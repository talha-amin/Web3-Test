{"ast":null,"code":"import React, { Fragment } from 'react';\nimport { gsap as gsap$2 } from 'gsap';\nimport { isForwardRef, isFragment } from 'react-is';\nimport { ScrollTrigger as ScrollTrigger$1 } from 'gsap/dist/ScrollTrigger';\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it;\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      return function () {\n        if (i >= o.length) return {\n          done: true\n        };\n        return {\n          done: false,\n          value: o[i++]\n        };\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  it = o[Symbol.iterator]();\n  return it.next.bind(it);\n}\nvar PlayState;\n(function (PlayState) {\n  PlayState[\"play\"] = \"play\";\n  PlayState[\"restart\"] = \"restart\";\n  PlayState[\"reverse\"] = \"reverse\";\n  PlayState[\"restartReverse\"] = \"restartReverse\";\n  PlayState[\"stop\"] = \"stop\";\n  PlayState[\"stopEnd\"] = \"stopEnd\";\n  PlayState[\"pause\"] = \"pause\";\n  PlayState[\"resume\"] = \"resume\";\n})(PlayState || (PlayState = {}));\nif (!String.prototype.startsWith) {\n  String.prototype.startsWith = function (searchString, position) {\n    position = position || 0;\n    return this.indexOf(searchString, position) === position;\n  };\n}\nvar setPlayState = function setPlayState(playState, prevPlayState, tween) {\n  if (tween === void 0) {\n    tween = null;\n  }\n  if (tween && playState && playState !== prevPlayState) {\n    if (playState === PlayState.play) {\n      tween.play();\n    } else if (playState === PlayState.restart) {\n      tween.restart(true);\n    } else if (playState === PlayState.reverse) {\n      tween.reverse();\n    } else if (playState === PlayState.restartReverse) {\n      tween.reverse(0);\n    } else if (playState === PlayState.stop) {\n      tween.pause(0);\n    } else if (playState === PlayState.stopEnd) {\n      tween.reverse(0);\n      tween.pause();\n    } else if (playState === PlayState.pause) {\n      tween.pause();\n    } else if (playState === PlayState.resume) {\n      tween.resume();\n    }\n  }\n};\nvar setInitialPlayState = function setInitialPlayState(tweenOrTimeline, props) {\n  var playState = props.playState;\n  if (playState) {\n    setPlayState(playState, PlayState.play, tweenOrTimeline);\n  }\n};\nvar getInitialPaused = function getInitialPaused(playState) {\n  return playState && (playState === PlayState.stop || playState === PlayState.stopEnd || playState === PlayState.pause);\n};\nvar getTweenFunction = function getTweenFunction(targets, props, context) {\n  var _context$getPlugins;\n  var _props$duration = props.duration,\n    duration = _props$duration === void 0 ? 1 : _props$duration,\n    from = props.from,\n    to = props.to,\n    stagger = props.stagger,\n    playState = props.playState,\n    onCompleteAll = props.onCompleteAll,\n    onCompleteAllParams = props.onCompleteAllParams,\n    onCompleteAllScope = props.onCompleteAllScope,\n    onStartAll = props.onStartAll,\n    vars = _objectWithoutPropertiesLoose(props, [\"children\", \"wrapper\", \"duration\", \"from\", \"to\", \"stagger\", \"progress\", \"totalProgress\", \"playState\", \"disabled\", \"onlyInvalidateTo\", \"onCompleteAll\", \"onCompleteAllParams\", \"onCompleteAllScope\", \"onStartAll\", \"position\", \"target\"]);\n  var tweenFunction;\n  var paused = getInitialPaused(playState);\n  var plugins = (_context$getPlugins = context === null || context === void 0 ? void 0 : context.getPlugins(context === null || context === void 0 ? void 0 : context.plugins, targets)) !== null && _context$getPlugins !== void 0 ? _context$getPlugins : {};\n  if (from && to) {\n    // special props like paused always go in the toVars parameter\n    tweenFunction = gsap$2.fromTo(targets, from, _extends({\n      stagger: stagger,\n      duration: duration,\n      paused: paused\n    }, to, vars, plugins));\n  } else if (to) {\n    tweenFunction = gsap$2.to(targets, _extends({\n      stagger: stagger,\n      duration: duration,\n      paused: paused\n    }, to, vars, plugins));\n  } else {\n    tweenFunction = gsap$2.from(targets, _extends({\n      stagger: stagger,\n      duration: duration,\n      paused: paused\n    }, from, vars, plugins));\n  } // if multiple tweens (stagger), wrap them in a timeline\n  // TODO: if it's already an timeline add event handlers\n\n  if (Array.isArray(tweenFunction)) {\n    tweenFunction.forEach(function (t) {\n      t.paused(false);\n    });\n    tweenFunction = gsap$2.timeline(_extends({}, vars, {\n      tweens: tweenFunction,\n      smoothChildTiming: true,\n      onComplete: onCompleteAll,\n      onCompleteParams: onCompleteAllParams,\n      onCompleteScope: onCompleteAllScope,\n      onStart: onStartAll\n    }));\n  }\n  return tweenFunction;\n};\nvar isEqual = function isEqual(obj1, obj2) {\n  // very easy equal check\n  // attention: if the order of properties are different it returns false\n  return JSON.stringify(obj1) === JSON.stringify(obj2);\n};\nfunction getReactNode(dom, traverseUp) {\n  if (traverseUp === void 0) {\n    traverseUp = 0;\n  }\n  var key = Object.keys(dom !== null && dom !== void 0 ? dom : {}).find(function (key) {\n    return key.startsWith('__reactInternalInstance$') || key.startsWith('__reactFiber$');\n  });\n  var domFiber = key && dom[key];\n  if (!domFiber) return null; // react <16\n\n  if (domFiber._currentElement) {\n    var _compFiber = domFiber._currentElement._owner;\n    for (var i = 0; i < traverseUp; i++) {\n      _compFiber = _compFiber._currentElement._owner;\n    }\n    return _compFiber._instance;\n  } // react 16+\n\n  if (domFiber.stateNode) {\n    return domFiber.stateNode;\n  }\n  var getCompFiber = function getCompFiber(fiber) {\n    //return fiber._debugOwner; // this also works, but is __DEV__ only\n    var parentFiber = fiber[\"return\"];\n    while (typeof parentFiber.type == 'string') {\n      parentFiber = parentFiber[\"return\"];\n    }\n    return parentFiber;\n  };\n  var compFiber = getCompFiber(domFiber);\n  for (var _i = 0; _i < traverseUp; _i++) {\n    compFiber = getCompFiber(compFiber);\n  }\n  return compFiber.stateNode;\n}\nvar getRefProp = function getRefProp(child, addTarget) {\n  // has to be tested if it works, which lib does still use innerRef?\n  if (child.props.innerRef) {\n    return {\n      innerRef: function innerRef(target) {\n        addTarget(target);\n        var innerRef = child.props.innerRef;\n        if (typeof innerRef === 'function') innerRef(target);else if (innerRef) innerRef.current = target;\n      }\n    };\n  }\n  return {\n    ref: function ref(target) {\n      addTarget(target);\n      var ref = child.ref;\n      if (typeof ref === 'function') ref(target);else if (ref) ref.current = target;\n    }\n  };\n};\nvar setOrAddTarget = function setOrAddTarget(target, setTarget, addTarget) {\n  var reactNode = getReactNode(target);\n  if (reactNode) {\n    addTarget(reactNode);\n  } else if (target) {\n    Object.keys(target).forEach(function (key) {\n      var elementRef = target[key];\n      if (typeof elementRef === 'object' && elementRef.current) {\n        if (Array.isArray(elementRef.current)) {\n          elementRef.current.forEach(function (singleRef) {\n            setTarget(key, singleRef);\n          });\n        } else {\n          setTarget(key, elementRef.current);\n        }\n      }\n    });\n  }\n};\nvar getTargetRefProp = function getTargetRefProp(child, setTarget, addTarget) {\n  // has to be tested if it works, which lib does still use innerRef?\n  if (child.props.innerRef) {\n    return {\n      innerRef: function innerRef(target) {\n        setOrAddTarget(target, setTarget, addTarget); // merge refs\n\n        var innerRef = child.props.innerRef;\n        if (typeof innerRef === 'function') innerRef(target);else if (innerRef) innerRef.current = target;\n      }\n    };\n  }\n  return {\n    ref: function ref(target) {\n      setOrAddTarget(target, setTarget, addTarget); // merge refs\n\n      var ref = child.ref;\n      if (typeof ref === 'function') ref(target);else if (ref) ref.current = target;\n    }\n  };\n};\nvar nullishCoalescing = function nullishCoalescing(value, ifNullish) {\n  if (value === null || typeof value === 'undefined') {\n    return ifNullish;\n  }\n  return value;\n};\nvar setProps = function setProps(tweenOrTimeline, props, prevProps) {\n  if (props.progress !== undefined && props.progress !== (prevProps === null || prevProps === void 0 ? void 0 : prevProps.progress)) {\n    tweenOrTimeline.progress(props.progress);\n  }\n  if (props.totalProgress !== undefined && props.totalProgress !== (prevProps === null || prevProps === void 0 ? void 0 : prevProps.totalProgress)) {\n    tweenOrTimeline.totalProgress(props.totalProgress);\n  }\n  if (tweenOrTimeline.duration !== undefined && props.duration && props.duration !== (prevProps === null || prevProps === void 0 ? void 0 : prevProps.duration)) {\n    tweenOrTimeline.duration(props.duration);\n  }\n};\nvar Context = /*#__PURE__*/React.createContext({\n  registerConsumer: function registerConsumer() {},\n  getPlugins: function getPlugins() {},\n  plugins: {}\n});\nvar Provider = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Provider, _React$Component);\n  function Provider(props) {\n    var _this;\n    _this = _React$Component.call(this, props) || this;\n    _this.consumers = [];\n    _this.plugins = {};\n    _this.registerConsumer = _this.registerConsumer.bind(_assertThisInitialized(_this));\n    _this.getContextValue = _this.getContextValue.bind(_assertThisInitialized(_this));\n    _this.getPlugin = _this.getPlugin.bind(_assertThisInitialized(_this));\n    _this.getPlugins = _this.getPlugins.bind(_assertThisInitialized(_this));\n    _this.renderWithProvider = _this.renderWithProvider.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  var _proto = Provider.prototype;\n  _proto.registerConsumer = function registerConsumer(consumer) {\n    this.consumers.push(consumer);\n  };\n  _proto.getContextValue = function getContextValue(plugin) {\n    if (plugin === void 0) {\n      plugin = {};\n    }\n    return {\n      registerConsumer: this.registerConsumer,\n      // plugins: { ...this.context.plugins, ...plugin },\n      plugins: plugin,\n      getPlugins: this.getPlugins\n    };\n  };\n  _proto.getPlugin = function getPlugin(props, targets) {\n    return {};\n  };\n  _proto.getPlugins = function getPlugins(plugins, targets) {\n    var _this2 = this;\n    return Object.keys(plugins !== null && plugins !== void 0 ? plugins : {}).reduce(function (acc, plugin) {\n      if (Object.prototype.hasOwnProperty.call(plugins, plugin)) {\n        var _extends2;\n\n        // @ts-ignore\n        return _extends({}, acc, (_extends2 = {}, _extends2[plugin] = _this2.getPlugin(plugins[plugin], targets), _extends2));\n      }\n      return acc;\n    }, {});\n  };\n  _proto.renderWithProvider = function renderWithProvider(output, plugin) {\n    return React.createElement(Context.Provider, {\n      value: this.getContextValue(plugin)\n    }, output);\n  };\n  return Provider;\n}(React.Component);\nProvider.contextType = Context;\nvar gsap;\nvar _interpolate;\nvar _getProp;\nvar _getGSAP = function _getGSAP() {\n  return gsap || typeof window !== 'undefined' && (gsap = window.gsap) && gsap.registerPlugin && gsap;\n};\nfunction getDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\nfunction getCircleLength(el) {\n  return 2 * Math.PI * parseFloat(nullishCoalescing(el.getAttribute('r'), '1') || '0');\n}\nfunction getRectLength(el) {\n  return parseFloat(nullishCoalescing(el.getAttribute('width'), '1') || '0') * 2 + parseFloat(nullishCoalescing(el.getAttribute('height'), '1') || '0') * 2;\n}\nfunction getLineLength(el) {\n  return getDistance({\n    x: parseFloat(nullishCoalescing(el.getAttribute('x1'), '1') || '0'),\n    y: parseFloat(nullishCoalescing(el.getAttribute('y1'), '1') || '0')\n  }, {\n    x: parseFloat(nullishCoalescing(el.getAttribute('x2'), '1') || '0'),\n    y: parseFloat(nullishCoalescing(el.getAttribute('y2'), '1') || '0')\n  });\n}\nfunction getPolylineLength(el) {\n  var points = el.points;\n  var totalLength = 0;\n  var previousPos = undefined;\n  for (var i = 0; i < points.numberOfItems; i++) {\n    var currentPos = points.getItem(i);\n    if (previousPos) totalLength += getDistance(previousPos, currentPos);\n    previousPos = currentPos;\n  }\n  return totalLength;\n}\nfunction getPolygonLength(el) {\n  var points = el.points;\n  return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\n} // if path is splitted into multiple move commands then return longest path\n\nfunction getPathLength(el) {\n  if (!el.hasAttribute('d')) {\n    return el.getTotalLength();\n  }\n  var d = el.getAttribute('d');\n  var pathString = d ? d.replace(/m/gi, 'M') : null;\n  if (!pathString) {\n    return el.getTotalLength();\n  }\n  var paths = pathString.split('M').filter(function (path) {\n    return path !== '';\n  }).map(function (path) {\n    return \"M\" + path;\n  });\n  if (paths.length === 1) {\n    return el.getTotalLength();\n  }\n  var maxLength = 0;\n  paths.forEach(function (path) {\n    var pathElement = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    pathElement.setAttribute('d', path);\n    maxLength = Math.max(maxLength, pathElement.getTotalLength());\n  });\n  return maxLength;\n}\nfunction getTotalLength(el) {\n  if (el.getTotalLength) {\n    return getPathLength(el);\n  }\n  switch (el.tagName.toLowerCase()) {\n    case 'circle':\n      return getCircleLength(el);\n    case 'rect':\n      return getRectLength(el);\n    case 'line':\n      return getLineLength(el);\n    case 'polyline':\n      return getPolylineLength(el);\n    case 'polygon':\n      return getPolygonLength(el);\n    default:\n      return 0;\n  }\n}\nvar SvgDrawPlugin = {\n  version: '2.0.0',\n  name: 'svgDraw',\n  register: function register(core, Plugin, propTween) {\n    gsap = core;\n    _interpolate = gsap.utils.interpolate;\n    _getProp = gsap.getProperty;\n  },\n  init: function init(target, value, _tween, index, targets) {\n    var length = getTotalLength(target);\n    var lengthParam = value;\n    var offsetParam = 0;\n    if (Array.isArray(value)) {\n      lengthParam = value[0];\n      if (value.length >= 2) {\n        offsetParam = value[1] * -1;\n      }\n    }\n    var data = this;\n    data.target = target;\n    data.strokeDashoffset = _interpolate(_getProp(target, 'stroke-dashoffset'), length * offsetParam);\n    data.strokeDasharray = _interpolate(_getProp(target, 'stroke-dasharray'), [lengthParam * length, length]);\n  },\n  render: function render(progress, data) {\n    data.target.setAttribute('stroke-dashoffset', data.strokeDashoffset(progress));\n    data.target.setAttribute('stroke-dasharray', data.strokeDasharray(progress));\n  }\n};\n_getGSAP() && gsap.registerPlugin(SvgDrawPlugin);\nvar gsap$1;\nvar _interpolate$1;\nvar _format;\nvar _getGSAP$1 = function _getGSAP() {\n  return gsap$1 || typeof window !== 'undefined' && (gsap$1 = window.gsap) && gsap$1.registerPlugin && gsap$1;\n};\nvar CountPlugin = {\n  version: '1.0.0',\n  name: 'count',\n  register: function register(core, Plugin, propTween) {\n    gsap$1 = core;\n    _interpolate$1 = gsap$1.utils.interpolate;\n    _format = function _format(value) {\n      return parseInt(value.toString(), 10);\n    };\n  },\n  init: function init(target, value, _tween, index, targets) {\n    var inputValue = value;\n    var format = _format;\n    if (typeof value === 'object') {\n      inputValue = nullishCoalescing(value.value, 0);\n      if (value.format) {\n        format = value.format;\n      }\n    }\n    var initialCount = parseFloat(target.innerText);\n    var data = this;\n    data.target = target;\n    data.count = _interpolate$1(initialCount, parseFloat(inputValue.toString()));\n    data.format = format;\n  },\n  render: function render(progress, data) {\n    data.target.innerText = data.format(data.count(progress));\n  }\n};\n_getGSAP$1() && gsap$1.registerPlugin(CountPlugin);\ngsap$2.registerPlugin(SvgDrawPlugin); // @ts-ignore\n\ngsap$2.registerPlugin(CountPlugin);\nvar Tween = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Tween, _React$Component);\n  function Tween(props) {\n    var _this;\n    _this = _React$Component.call(this, props) || this;\n    _this.targets = [];\n    _this.addTarget = _this.addTarget.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  var _proto = Tween.prototype;\n  _proto.componentDidMount = function componentDidMount() {\n    this.createTween(); // props at mount\n\n    setProps(this.tween, this.props);\n    setInitialPlayState(this.tween, this.props);\n    this.context.registerConsumer(this);\n  };\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.tween) {\n      this.tween.kill();\n    }\n  };\n  _proto.getSnapshotBeforeUpdate = function getSnapshotBeforeUpdate() {\n    this.targets = [];\n    return null;\n  };\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this$props = this.props,\n      children = _this$props.children,\n      to = _this$props.to,\n      playState = _this$props.playState,\n      disabled = _this$props.disabled,\n      onlyInvalidateTo = _this$props.onlyInvalidateTo,\n      vars = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"wrapper\", \"duration\", \"from\", \"to\", \"stagger\", \"progress\", \"totalProgress\", \"playState\", \"disabled\", \"onlyInvalidateTo\", \"onCompleteAll\", \"onCompleteAllParams\", \"onCompleteAllScope\", \"onStartAll\", \"position\", \"target\"]); // if children change create a new tween\n    // TODO: replace easy length check with fast equal check\n\n    if (React.Children.count(prevProps.children) !== React.Children.count(children)) {\n      this.createTween();\n    }\n    if (disabled) {\n      return;\n    } // execute function calls\n\n    setProps(this.tween, this.props, prevProps); // if \"to\" props are changed: reinit and restart tween\n\n    if (!isEqual(to, prevProps.to)) {\n      // is Tween\n      if (!this.tween.getChildren) {\n        this.tween.vars = _extends({}, to, vars);\n        if (onlyInvalidateTo) {\n          var progressTmp = this.tween.progress();\n          this.tween.progress(0).invalidate().progress(progressTmp);\n        } else {\n          this.tween.invalidate();\n        }\n      } // is Timeline\n      // TODO: not yet ready\n      else {\n        var delay = 0;\n        this.tween.getChildren(false, true, false).forEach(function (tween) {\n          tween.vars = _extends({}, to, vars, {\n            delay: delay\n          });\n          tween.invalidate(); // delay += stagger || 0;\n        });\n      }\n\n      if (!this.tween.paused()) {\n        this.tween.restart();\n      }\n    }\n    setPlayState(playState, prevProps.playState, this.tween);\n  };\n  _proto.createTween = function createTween() {\n    if (this.tween) {\n      this.tween.kill();\n    }\n    if (this.props.children) {\n      this.tween = getTweenFunction(this.targets, this.props, this.context);\n    } else {\n      // why this is needed?\n      this.tween = function () {};\n    }\n  };\n  _proto.getGSAP = function getGSAP() {\n    return this.tween;\n  };\n  _proto.setGSAP = function setGSAP(tween) {\n    this.tween = tween;\n  };\n  _proto.addTarget = function addTarget(target) {\n    // target is null at unmount\n    if (target !== null) {\n      this.targets.push(target);\n    }\n  };\n  _proto.getTargets = function getTargets() {\n    return this.targets;\n  };\n  _proto.render = function render() {\n    var _this2 = this;\n    var _this$props2 = this.props,\n      children = _this$props2.children,\n      wrapper = _this$props2.wrapper;\n    var output = React.createElement(Fragment, null, React.Children.map(children, function (child) {\n      return React.cloneElement(child, getRefProp(child, _this2.addTarget));\n    }));\n    if (wrapper) {\n      return React.cloneElement(wrapper, [], output);\n    }\n    return output;\n  };\n  return Tween;\n}(React.Component);\nTween.displayName = 'Tween';\nTween.contextType = Context;\nvar Timeline = /*#__PURE__*/function (_Provider) {\n  _inheritsLoose(Timeline, _Provider);\n  function Timeline(props) {\n    var _this;\n    _this = _Provider.call(this, props) || this;\n    _this.targets = new Map();\n    _this.addTarget = _this.addTarget.bind(_assertThisInitialized(_this));\n    _this.setTarget = _this.setTarget.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  var _proto = Timeline.prototype;\n  _proto.componentDidMount = function componentDidMount() {\n    this.createTimeline(); // props at mount\n\n    setProps(this.timeline, this.props);\n    setInitialPlayState(this.timeline, this.props);\n    this.context.registerConsumer(this);\n  };\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.timeline.kill();\n  };\n  _proto.getSnapshotBeforeUpdate = function getSnapshotBeforeUpdate() {\n    this.targets = new Map();\n    return null;\n  };\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this$props = this.props,\n      children = _this$props.children,\n      playState = _this$props.playState;\n    // if children change create a new timeline\n    // TODO: replace easy length check with fast equal check\n    // TODO: same for props.target?\n\n    if (React.Children.count(prevProps.children) !== React.Children.count(children)) {\n      this.createTimeline();\n    } // execute function calls\n\n    setProps(this.timeline, this.props, prevProps); // TODO: need rerender or something if target change?\n    // if (target !== prevProps.target) {\n    //   this.forceUpdate();\n    // }\n\n    setPlayState(playState, prevProps.playState, this.timeline);\n  };\n  _proto.createTimeline = function createTimeline() {\n    var _this$context$getPlug,\n      _this$context,\n      _this$context2,\n      _this2 = this;\n    var _this$props2 = this.props,\n      playState = _this$props2.playState,\n      labels = _this$props2.labels,\n      vars = _objectWithoutPropertiesLoose(_this$props2, [\"children\", \"target\", \"duration\", \"progress\", \"totalProgress\", \"playState\", \"labels\", \"position\"]);\n    if (this.timeline) {\n      this.timeline.kill();\n    }\n    var plugins = (_this$context$getPlug = (_this$context = this.context) === null || _this$context === void 0 ? void 0 : _this$context.getPlugins((_this$context2 = this.context) === null || _this$context2 === void 0 ? void 0 : _this$context2.plugins, this.targets)) !== null && _this$context$getPlug !== void 0 ? _this$context$getPlug : {}; // init timeline\n\n    this.timeline = gsap$2.timeline(_extends({\n      smoothChildTiming: true,\n      paused: getInitialPaused(playState)\n    }, vars, plugins));\n    if (labels) {\n      labels.forEach(function (label) {\n        _this2.timeline.addLabel(label.label, label.position);\n      });\n    } // add tweens or nested timelines to timeline\n\n    this.consumers.forEach(function (consumer) {\n      // Tween with no children -> control Timeline target\n      if (consumer.tween && !consumer.props.children) {\n        var _consumer$props = consumer.props,\n          _position = _consumer$props.position,\n          _target = _consumer$props.target,\n          stagger = _consumer$props.stagger,\n          _vars = _objectWithoutPropertiesLoose(_consumer$props, [\"position\", \"target\", \"stagger\"]); // get target if not nullish\n\n        var targets = null;\n        if (_target !== null && typeof _target !== 'undefined') {\n          targets = _this2.targets.get(_target);\n        } // if no target found -> take all Timeline targets as target\n\n        var tween = getTweenFunction(\n        // @ts-ignore\n        nullishCoalescing(targets, Array.from(_this2.targets.values())), _extends({\n          stagger: stagger\n        }, _vars));\n        _this2.timeline.add(tween, nullishCoalescing(_position, '+=0'));\n        consumer.setGSAP(tween);\n      } else {\n        var _position2 = consumer.props.position;\n        _this2.timeline.add(consumer.getGSAP(), nullishCoalescing(_position2, '+=0'));\n      }\n    });\n  };\n  _proto.getGSAP = function getGSAP() {\n    return this.timeline;\n  };\n  _proto.addTarget = function addTarget(target) {\n    if (target !== null) {\n      this.targets.set(this.targets.size, target);\n    }\n  };\n  _proto.setTarget = function setTarget(key, target) {\n    if (target !== null) {\n      if (this.targets.has(key)) {\n        var targets = this.targets.get(key);\n        if (Array.isArray(targets)) {\n          this.targets.set(key, [].concat(targets, [target]));\n        } else {\n          this.targets.set(key, [targets, target]);\n        }\n      } else {\n        this.targets.set(key, target);\n      }\n    }\n  };\n  _proto.setTargets = function setTargets(targets) {\n    this.targets = targets;\n  };\n  _proto.getTargets = function getTargets() {\n    return this.targets;\n  };\n  _proto.cloneElement = function cloneElement(child) {\n    // @ts-ignore\n    return React.cloneElement(child, getTargetRefProp(child, this.setTarget, this.addTarget));\n  };\n  _proto.renderTarget = function renderTarget(target) {\n    var _this3 = this;\n    if (!target) {\n      return null;\n    } // if is forwardRef clone and pass targets as ref\n\n    if (isForwardRef(target)) {\n      return this.cloneElement(target);\n    } // else iterate the first level of children and set targets\n\n    return React.createElement(Fragment, null, React.Children.map(target, function (child) {\n      if (isFragment(child)) {\n        return React.Children.map(child.props.children, function (fragmentChild) {\n          return _this3.cloneElement(fragmentChild);\n        });\n      }\n      return _this3.cloneElement(child);\n    }));\n  };\n  _proto.render = function render() {\n    var _this$props3 = this.props,\n      target = _this$props3.target,\n      children = _this$props3.children,\n      wrapper = _this$props3.wrapper;\n    var renderedTarget = this.renderTarget(target);\n    var output = React.createElement(Fragment, null, renderedTarget, children);\n    if (wrapper) {\n      output = React.cloneElement(wrapper, [], output);\n    }\n    return this.renderWithProvider(output);\n  };\n  return Timeline;\n}(Provider);\nTimeline.displayName = 'Timeline';\nTimeline.defaultProps = {\n  playState: PlayState.play\n};\nvar EntryState;\n(function (EntryState) {\n  EntryState[EntryState[\"unknown\"] = 0] = \"unknown\";\n  EntryState[EntryState[\"entered\"] = 1] = \"entered\";\n  EntryState[EntryState[\"exited\"] = 2] = \"exited\";\n})(EntryState || (EntryState = {}));\nvar Reveal = /*#__PURE__*/function (_Provider) {\n  _inheritsLoose(Reveal, _Provider);\n  function Reveal() {\n    var _this;\n    _this = _Provider.apply(this, arguments) || this;\n    _this.triggerRef = null;\n    _this.observer = null;\n    _this.intersectionObserverCallback = function (entries) {\n      var _this$props = _this.props,\n        repeat = _this$props.repeat,\n        threshold = _this$props.threshold;\n      var state = EntryState.unknown;\n      for (var _iterator = _createForOfIteratorHelperLoose(entries), _step; !(_step = _iterator()).done;) {\n        var entry = _step.value;\n        if (entry.isIntersecting && entry.intersectionRatio >= threshold) {\n          _this.timeline.play();\n          state = EntryState.entered;\n          break;\n        } else if (!entry.isIntersecting) {\n          state = EntryState.exited;\n          break;\n        }\n      }\n      if (!repeat && state === EntryState.entered) {\n        _this.killIntersectionObserver();\n      } else if (repeat && state === EntryState.exited) {\n        _this.timeline.pause(0);\n      }\n    };\n    return _this;\n  }\n  var _proto = Reveal.prototype;\n  _proto.init = function init() {\n    this.createTimeline();\n    this.createIntersectionObserver();\n  };\n  _proto.kill = function kill() {\n    this.killTimeline();\n    this.killIntersectionObserver();\n  };\n  _proto.componentDidMount = function componentDidMount() {\n    this.init();\n  };\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.kill();\n  };\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this$props2 = this.props,\n      children = _this$props2.children,\n      trigger = _this$props2.trigger; // if children change create a new timeline\n    // TODO: replace easy length check with fast equal check\n    // TODO: same for props.target?\n\n    if (React.Children.count(prevProps.children) !== React.Children.count(children)) {\n      this.init();\n    }\n    if (prevProps.trigger !== trigger) {\n      this.init();\n    }\n  };\n  _proto.createTimeline = function createTimeline() {\n    var _this2 = this;\n    this.killTimeline(); // init timeline\n\n    this.timeline = gsap$2.timeline({\n      smoothChildTiming: true,\n      paused: true\n    }); // add consumers\n\n    this.consumers.forEach(function (consumer) {\n      var position = consumer.props.position;\n      _this2.timeline.add(consumer.getGSAP().play(), nullishCoalescing(position, 0));\n    });\n  };\n  _proto.killTimeline = function killTimeline() {\n    if (this.timeline) {\n      this.timeline.kill();\n    }\n  };\n  _proto.createIntersectionObserver = function createIntersectionObserver() {\n    var _this3 = this;\n    var _this$props3 = this.props,\n      root = _this$props3.root,\n      rootMargin = _this$props3.rootMargin,\n      threshold = _this$props3.threshold;\n    var options = {\n      root: root,\n      rootMargin: rootMargin,\n      threshold: [0, threshold]\n    };\n    this.observer = new IntersectionObserver(this.intersectionObserverCallback, options); // It would be better if we wouldn't need an extra wrapper.\n    // But it can be problematic for example with a fadeInLeft animation\n    // were the element is out of the viewport in the initial state.\n    // In this case there wouldn't be an intersection..\n\n    if (!this.triggerRef) {\n      this.consumers.forEach(function (consumer) {\n        consumer.getTargets().forEach(function (target) {\n          _this3.observer && _this3.observer.observe(target);\n        });\n      });\n    } else {\n      this.observer && this.observer.observe(this.triggerRef);\n    }\n  };\n  _proto.killIntersectionObserver = function killIntersectionObserver() {\n    this.unobserveAll();\n    this.observer = null;\n  };\n  _proto.unobserveAll = function unobserveAll() {\n    var _this4 = this;\n    if (this.observer) {\n      if (!this.triggerRef) {\n        this.consumers.forEach(function (consumer) {\n          consumer.getTargets().forEach(function (target) {\n            _this4.observer && _this4.observer.unobserve(target);\n          });\n        });\n      } else {\n        this.observer && this.observer.unobserve(this.triggerRef);\n      }\n    }\n  };\n  _proto.getGSAP = function getGSAP() {\n    return this.timeline;\n  };\n  _proto.render = function render() {\n    var _this5 = this;\n    var _this$props4 = this.props,\n      children = _this$props4.children,\n      trigger = _this$props4.trigger;\n    var output = trigger ? React.createElement(trigger.type, Object.assign({}, trigger.props, {\n      ref: function ref(trigger) {\n        return _this5.triggerRef = trigger;\n      }\n    }), children) : children;\n    return this.renderWithProvider(output);\n  };\n  return Reveal;\n}(Provider);\nReveal.displayName = 'Reveal';\nReveal.defaultProps = {\n  trigger: null,\n  repeat: false,\n  root: null,\n  rootMargin: '0px',\n  threshold: 0.66\n};\ngsap$2.registerPlugin(ScrollTrigger$1);\nvar ScrollTrigger = /*#__PURE__*/function (_Provider) {\n  _inheritsLoose(ScrollTrigger, _Provider);\n  function ScrollTrigger(props) {\n    var _this;\n    _this = _Provider.call(this, props) || this;\n    _this.scrollTrigger = null;\n    _this.targets = {};\n    _this.getPlugin = _this.getPlugin.bind(_assertThisInitialized(_this));\n    return _this;\n  } // override and pass registerConsumer to next parent provider\n\n  var _proto = ScrollTrigger.prototype;\n  _proto.registerConsumer = function registerConsumer(consumer) {\n    this.context.registerConsumer(consumer);\n  };\n  _proto.componentDidMount = function componentDidMount() {\n    var _this$props = this.props,\n      children = _this$props.children,\n      scrollTrigger = _objectWithoutPropertiesLoose(_this$props, [\"children\"]);\n    if (!children) {\n      this.scrollTrigger = ScrollTrigger$1.create(scrollTrigger);\n    }\n  };\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.scrollTrigger) {\n      this.scrollTrigger.kill();\n    }\n  } // componentDidUpdate(prevProps: ScrollTriggerProps) {\n  //   const { trigger } = this.props;\n  //\n  //   if (trigger !== prevProps.trigger) {\n  //     console.log('prevProps.trigger', prevProps.trigger);\n  //     console.log('trigger', trigger);\n  //   }\n  // }\n  ;\n\n  _proto.getGSAP = function getGSAP() {\n    return this.scrollTrigger;\n  };\n  _proto.getPlugin = function getPlugin(props, targets) {\n    var triggerProp = props.trigger,\n      scrollTrigger = _objectWithoutPropertiesLoose(props, [\"children\", \"trigger\"]);\n    var trigger = triggerProp;\n    if (targets instanceof Map) {\n      if (trigger) {\n        var target = targets.get(trigger);\n        if (target) {\n          trigger = target;\n        }\n      } else {\n        trigger = Array.from(targets.values());\n      }\n    } else if (!trigger) {\n      trigger = targets;\n    }\n    return _extends({\n      trigger: trigger\n    }, scrollTrigger);\n  };\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n      children = _this$props2.children,\n      scrollTrigger = _objectWithoutPropertiesLoose(_this$props2, [\"children\"]);\n    if (!children) {\n      return null;\n    }\n    return this.renderWithProvider(children, {\n      scrollTrigger: scrollTrigger\n    });\n  };\n  return ScrollTrigger;\n}(Provider);\nScrollTrigger.displayName = 'ScrollTrigger';\nScrollTrigger.contextType = Context;\nvar escapeRegExp = function escapeRegExp(regExp) {\n  var specialChars = ['$', '^', '*', '(', ')', '+', '[', ']', '{', '}', '\\\\', '|', '.', '?', '/'];\n  var regex = new RegExp('(\\\\' + specialChars.join('|\\\\') + ')', 'g');\n  return regExp.replace(regex, '\\\\$1');\n}; // TODO: possible or better to output all the refs as one array?\n\nvar SplitWords = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n    wrapper = _ref.wrapper,\n    _ref$delimiter = _ref.delimiter,\n    delimiter = _ref$delimiter === void 0 ? ' ' : _ref$delimiter;\n  if (typeof children !== 'string') {\n    throw new Error('SplitWords only accepts a string as child.');\n  }\n  var words = children.split(new RegExp(\"(\" + escapeRegExp(delimiter) + \")\", 'g'));\n  return React.createElement(React.Fragment, null, words.map(function (word, i) {\n    if (delimiter === ' ' && word === delimiter) {\n      return React.createElement(React.Fragment, {\n        key: i\n      }, \" \");\n    }\n    return React.cloneElement(wrapper, {\n      ref: ref,\n      key: i\n    }, word);\n  }));\n}); // TODO: possible or better to output all the refs as one array?\n\nvar SplitChars = /*#__PURE__*/React.forwardRef(function (_ref2, ref) {\n  var children = _ref2.children,\n    wrapper = _ref2.wrapper;\n  if (typeof children !== 'string') {\n    throw new Error('SplitChars only accepts a string as child.');\n  }\n  return React.createElement(React.Fragment, null, children.split(/(?=(?:[\\0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]))/).map(function (_char, i) {\n    // TODO: enhance check for space\n    if (_char === ' ') {\n      return React.createElement(React.Fragment, {\n        key: i\n      }, \" \");\n    }\n    return React.cloneElement(wrapper, {\n      ref: ref,\n      key: i\n    }, _char);\n  }));\n});\nvar SplitLetters = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  console.warn('Deprecation warning: Use SplitChars instead of SplitLetters');\n  return React.createElement(SplitChars, Object.assign({}, props, {\n    ref: ref\n  }));\n});\nvar Controls = /*#__PURE__*/function (_Provider) {\n  _inheritsLoose(Controls, _Provider);\n  function Controls() {\n    var _this;\n    _this = _Provider.apply(this, arguments) || this;\n    _this.sliderTouched = false;\n    _this.state = {\n      totalProgress: 0,\n      playState: undefined,\n      prevPlayState: undefined\n    };\n    _this.containerStyle = {\n      backgroundColor: '#f0f0f0',\n      padding: '10px 10px 0 10px',\n      marginTop: '10px',\n      position: 'relative',\n      zIndex: 2,\n      fontFamily: 'verdana, sans-serif',\n      fontSize: '16px',\n      border: '1px solid #ccc'\n    };\n    _this.buttonContainerStyle = {\n      margin: '0',\n      display: 'flex',\n      flexWrap: 'wrap',\n      justifyContent: 'space-between'\n    };\n    _this.buttonStyle = {\n      border: '1px solid #999',\n      backgroundColor: '#f0f0f0',\n      padding: '5px',\n      margin: '10px 10px 10px 0',\n      cursor: 'pointer'\n    };\n    _this.sliderStyle = {\n      margin: '0',\n      width: '100%'\n    };\n    _this.playStateStyle = {\n      color: '#999',\n      margin: '10px 0',\n      fontSize: '14px'\n    };\n    _this.onUpdate = function () {\n      if (_this.gsap && _this.slider && !_this.sliderTouched) {\n        var totalProgress = _this.gsap.getGSAP().totalProgress();\n        _this.slider.value = totalProgress * 100;\n      }\n    };\n    _this.onChange = function (event) {\n      if (_this.gsap && _this.gsap.getGSAP()) {\n        _this.gsap.getGSAP().totalProgress(event.target.value / 100);\n      }\n    };\n    _this.setPlayState = function (state) {\n      _this.setState(function (prevState) {\n        return {\n          playState: state,\n          prevPlayState: prevState.playState\n        };\n      });\n    };\n    _this.getControls = function (_totalProgress, playState) {\n      return React.createElement(\"div\", {\n        style: _this.containerStyle\n      }, React.createElement(\"input\", {\n        ref: function ref(el) {\n          return _this.slider = el;\n        },\n        type: \"range\",\n        style: _this.sliderStyle,\n        step: \"0.001\",\n        onChange: function onChange(e) {\n          return _this.onChange(e);\n        },\n        onMouseDown: function onMouseDown() {\n          return _this.sliderTouched = true;\n        },\n        onMouseUp: function onMouseUp() {\n          return _this.sliderTouched = false;\n        }\n      }), React.createElement(\"div\", {\n        style: _this.buttonContainerStyle\n      }, React.createElement(\"div\", null, React.createElement(\"button\", {\n        type: \"button\",\n        style: _this.buttonStyle,\n        onClick: function onClick() {\n          return _this.setPlayState(PlayState.play);\n        }\n      }, \"Play\"), React.createElement(\"button\", {\n        type: \"button\",\n        style: _this.buttonStyle,\n        onClick: function onClick() {\n          return _this.setPlayState(PlayState.reverse);\n        }\n      }, \"Reverse\"), React.createElement(\"button\", {\n        type: \"button\",\n        style: _this.buttonStyle,\n        onClick: function onClick() {\n          return _this.setPlayState(PlayState.pause);\n        }\n      }, \"Pause\"), React.createElement(\"button\", {\n        type: \"button\",\n        style: _this.buttonStyle,\n        onClick: function onClick() {\n          return _this.setPlayState(PlayState.stop);\n        }\n      }, \"Stop\")), React.createElement(\"span\", {\n        style: _this.playStateStyle\n      }, playState)));\n    };\n    return _this;\n  }\n  var _proto = Controls.prototype;\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.consumers.length) {\n      this.gsap = this.consumers[0];\n      var gsap = this.gsap.getGSAP();\n      if (gsap) {\n        gsap.eventCallback('onUpdate', this.onUpdate);\n        if (this.props.playState) {\n          this.setPlayState(this.props.playState);\n        } else {\n          // get child initial state\n          if (gsap.paused()) {\n            this.setPlayState(PlayState.pause);\n          } else if (gsap.reversed()) {\n            this.setPlayState(PlayState.reverse);\n          } else {\n            this.setPlayState(PlayState.play);\n          }\n        }\n        var totalProgress = gsap.totalProgress();\n        this.slider.value = totalProgress * 100;\n      }\n    }\n  };\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.onUpdate();\n  };\n  _proto.render = function render() {\n    var children = this.props.children;\n    var _this$state = this.state,\n      totalProgress = _this$state.totalProgress,\n      playState = _this$state.playState,\n      prevPlayState = _this$state.prevPlayState;\n    if (this.gsap) {\n      setPlayState(playState, prevPlayState, this.gsap.getGSAP());\n    }\n    return this.renderWithProvider(React.createElement(\"div\", null, children, this.getControls(totalProgress, playState)));\n  };\n  return Controls;\n}(Provider);\nexport { Controls, PlayState, Reveal, ScrollTrigger, SplitChars, SplitLetters, SplitWords, Timeline, Tween };","map":{"version":3,"names":["PlayState","String","prototype","startsWith","searchString","position","indexOf","setPlayState","playState","prevPlayState","tween","play","restart","reverse","restartReverse","stop","pause","stopEnd","resume","setInitialPlayState","tweenOrTimeline","props","getInitialPaused","getTweenFunction","targets","context","duration","_props$duration","from","to","stagger","onCompleteAll","onCompleteAllParams","onCompleteAllScope","onStartAll","vars","_objectWithoutPropertiesLoose","tweenFunction","paused","plugins","_context$getPlugins","getPlugins","gsap$2","fromTo","_extends","Array","isArray","forEach","t","timeline","tweens","smoothChildTiming","onComplete","onCompleteParams","onCompleteScope","onStart","isEqual","obj1","obj2","JSON","stringify","getReactNode","dom","traverseUp","key","Object","keys","find","domFiber","_currentElement","_compFiber","_owner","i","_instance","stateNode","getCompFiber","fiber","parentFiber","type","compFiber","_i","getRefProp","child","addTarget","innerRef","target","current","ref","setOrAddTarget","setTarget","reactNode","elementRef","singleRef","getTargetRefProp","nullishCoalescing","value","ifNullish","setProps","prevProps","progress","undefined","totalProgress","Context","React","createContext","registerConsumer","Provider","_React$Component","_this","call","consumers","bind","_assertThisInitialized","getContextValue","getPlugin","renderWithProvider","consumer","push","plugin","reduce","acc","hasOwnProperty","_extends2","_this2","output","createElement","Component","contextType","gsap","_interpolate","_getProp","_getGSAP","window","registerPlugin","getDistance","p1","p2","Math","sqrt","pow","x","y","getCircleLength","el","PI","parseFloat","getAttribute","getRectLength","getLineLength","getPolylineLength","points","totalLength","previousPos","numberOfItems","currentPos","getItem","getPolygonLength","getPathLength","hasAttribute","getTotalLength","d","pathString","replace","paths","split","filter","path","map","length","maxLength","pathElement","document","createElementNS","setAttribute","max","tagName","toLowerCase","SvgDrawPlugin","version","name","register","core","Plugin","propTween","utils","interpolate","getProperty","init","_tween","index","lengthParam","offsetParam","data","strokeDashoffset","strokeDasharray","render","gsap$1","_interpolate$1","_format","_getGSAP$1","CountPlugin","parseInt","toString","inputValue","format","initialCount","innerText","count","Tween","componentDidMount","createTween","componentWillUnmount","kill","getSnapshotBeforeUpdate","componentDidUpdate","children","_this$props","disabled","onlyInvalidateTo","Children","getChildren","progressTmp","invalidate","delay","getGSAP","setGSAP","getTargets","_this$props2","wrapper","Fragment","cloneElement","displayName","Timeline","_Provider","Map","createTimeline","labels","_this$context$getPlug","_this$context","_this$context2","label","addLabel","_consumer$props","_position","_target","_vars","get","values","add","_position2","set","size","has","concat","setTargets","renderTarget","isForwardRef","isFragment","fragmentChild","_this3","_this$props3","renderedTarget","defaultProps","EntryState","Reveal","triggerRef","observer","intersectionObserverCallback","entries","repeat","threshold","state","unknown","_iterator","_createForOfIteratorHelperLoose","_step","done","entry","isIntersecting","intersectionRatio","entered","exited","killIntersectionObserver","createIntersectionObserver","killTimeline","trigger","root","rootMargin","options","IntersectionObserver","observe","unobserveAll","_this4","unobserve","_this$props4","assign","_this5","ScrollTrigger$1","ScrollTrigger","scrollTrigger","create","triggerProp","escapeRegExp","regExp","specialChars","regex","RegExp","join","SplitWords","forwardRef","_ref","delimiter","_ref$delimiter","Error","words","word","SplitChars","_ref2","_char","SplitLetters","console","warn","Controls","sliderTouched","containerStyle","backgroundColor","padding","marginTop","zIndex","fontFamily","fontSize","border","buttonContainerStyle","margin","display","flexWrap","justifyContent","buttonStyle","cursor","sliderStyle","width","playStateStyle","color","onUpdate","slider","onChange","event","setState","prevState","getControls","_totalProgress","style","step","e","onMouseDown","onMouseUp","onClick","eventCallback","reversed","_this$state"],"sources":["/home/talha-amin/Web3-Hiring-V3/node_modules/react-gsap/src/types.ts","/home/talha-amin/Web3-Hiring-V3/node_modules/react-gsap/src/helper.ts","/home/talha-amin/Web3-Hiring-V3/node_modules/react-gsap/src/Provider.tsx","/home/talha-amin/Web3-Hiring-V3/node_modules/react-gsap/src/plugins/PlugInSvgDraw.ts","/home/talha-amin/Web3-Hiring-V3/node_modules/react-gsap/src/plugins/PlugInCount.ts","/home/talha-amin/Web3-Hiring-V3/node_modules/react-gsap/src/Tween.tsx","/home/talha-amin/Web3-Hiring-V3/node_modules/react-gsap/src/Timeline.tsx","/home/talha-amin/Web3-Hiring-V3/node_modules/react-gsap/src/tools/Reveal.tsx","/home/talha-amin/Web3-Hiring-V3/node_modules/react-gsap/src/tools/ScrollTrigger.tsx","/home/talha-amin/Web3-Hiring-V3/node_modules/react-gsap/src/tools/SplitText.tsx","/home/talha-amin/Web3-Hiring-V3/node_modules/react-gsap/src/tools/Controls.tsx"],"sourcesContent":["export enum PlayState {\n  play = 'play',\n  restart = 'restart',\n  reverse = 'reverse',\n  restartReverse = 'restartReverse',\n  stop = 'stop',\n  stopEnd = 'stopEnd',\n  pause = 'pause',\n  resume = 'resume',\n}\n","import { gsap } from 'gsap';\nimport React from 'react';\nimport { PlayState } from './types';\nimport { TimelineProps } from 'Timeline';\nimport { TweenProps } from 'Tween';\nimport { ContextProps } from 'Provider';\n\nif (!String.prototype.startsWith) {\n  String.prototype.startsWith = function(searchString, position) {\n    position = position || 0;\n    return this.indexOf(searchString, position) === position;\n  };\n}\n\nconst setPlayState = (\n  playState?: PlayState,\n  prevPlayState?: PlayState | null,\n  tween: any = null\n) => {\n  if (tween && playState && playState !== prevPlayState) {\n    if (playState === PlayState.play) {\n      tween.play();\n    } else if (playState === PlayState.restart) {\n      tween.restart(true);\n    } else if (playState === PlayState.reverse) {\n      tween.reverse();\n    } else if (playState === PlayState.restartReverse) {\n      tween.reverse(0);\n    } else if (playState === PlayState.stop) {\n      tween.pause(0);\n    } else if (playState === PlayState.stopEnd) {\n      tween.reverse(0);\n      tween.pause();\n    } else if (playState === PlayState.pause) {\n      tween.pause();\n    } else if (playState === PlayState.resume) {\n      tween.resume();\n    }\n  }\n};\n\nconst setInitialPlayState = (tweenOrTimeline: any, props: TimelineProps | TweenProps) => {\n  const { playState } = props;\n  if (playState) {\n    setPlayState(playState, PlayState.play, tweenOrTimeline);\n  }\n};\n\nconst getInitialPaused = (playState?: PlayState) => {\n  return (\n    playState &&\n    (playState === PlayState.stop ||\n      playState === PlayState.stopEnd ||\n      playState === PlayState.pause)\n  );\n};\n\nconst getTweenFunction = (\n  targets: any,\n  props: TweenProps | TimelineProps,\n  context?: ContextProps\n): gsap.core.Tween | gsap.core.Timeline => {\n  const {\n    children,\n    wrapper,\n\n    duration = 1,\n    from,\n    to,\n\n    stagger,\n\n    progress,\n    totalProgress,\n    playState,\n    disabled,\n    onlyInvalidateTo,\n\n    onCompleteAll,\n    onCompleteAllParams,\n    onCompleteAllScope,\n    onStartAll,\n\n    position,\n    target,\n\n    ...vars\n  } = props;\n\n  let tweenFunction: gsap.core.Tween | gsap.core.Timeline;\n  const paused = getInitialPaused(playState);\n  const plugins = context?.getPlugins(context?.plugins, targets) ?? {};\n\n  if (from && to) {\n    // special props like paused always go in the toVars parameter\n    tweenFunction = gsap.fromTo(targets, from, {\n      stagger,\n      duration,\n      paused,\n      ...to,\n      ...vars,\n      ...plugins,\n    });\n  } else if (to) {\n    tweenFunction = gsap.to(targets, { stagger, duration, paused, ...to, ...vars, ...plugins });\n  } else {\n    tweenFunction = gsap.from(targets, { stagger, duration, paused, ...from, ...vars, ...plugins });\n  }\n\n  // if multiple tweens (stagger), wrap them in a timeline\n  // TODO: if it's already an timeline add event handlers\n  if (Array.isArray(tweenFunction)) {\n    tweenFunction.forEach(t => {\n      t.paused(false);\n    });\n    tweenFunction = gsap.timeline({\n      ...vars,\n      tweens: tweenFunction,\n      smoothChildTiming: true,\n      onComplete: onCompleteAll,\n      onCompleteParams: onCompleteAllParams,\n      onCompleteScope: onCompleteAllScope,\n      onStart: onStartAll,\n    });\n  }\n\n  return tweenFunction;\n};\n\nconst callTweenFunction = (\n  tweenFunction: any,\n  functionName: string,\n  params: Array<any> | undefined = undefined,\n  returnFunction: string | undefined = undefined\n): void => {\n  if (Array.isArray(tweenFunction)) {\n    tweenFunction.forEach(tween => {\n      if (!params && returnFunction) {\n        params = [tween[returnFunction].apply(tween)];\n      }\n      tween[functionName].apply(tween, params);\n    });\n  } else {\n    if (!params && returnFunction) {\n      params = [tweenFunction[returnFunction].apply(tweenFunction)];\n    }\n    tweenFunction[functionName].apply(tweenFunction, params);\n  }\n};\n\nconst isEqual = (obj1: any, obj2: any) => {\n  // very easy equal check\n  // attention: if the order of properties are different it returns false\n  return JSON.stringify(obj1) === JSON.stringify(obj2);\n};\n\nconst refOrInnerRef = (child: any) => {\n  if (child.type.$$typeof && child.type.$$typeof.toString() === 'Symbol(react.forward_ref)') {\n    return 'ref';\n  }\n\n  // styled-components < 4\n  if (child.type.styledComponentId) {\n    return 'innerRef';\n  }\n\n  return 'ref';\n};\n\nfunction isElement(element: any) {\n  return React.isValidElement(element);\n}\n\nfunction isDOMTypeElement(element: any) {\n  return isElement(element) && typeof element.type === 'string';\n}\n\n// https://stackoverflow.com/a/39165137\nfunction getReactNode(dom: any, traverseUp = 0) {\n  const key = Object.keys(dom ?? {}).find(\n    key => key.startsWith('__reactInternalInstance$') || key.startsWith('__reactFiber$')\n  );\n\n  const domFiber = key && dom[key];\n  if (!domFiber) return null;\n\n  // react <16\n  if (domFiber._currentElement) {\n    let compFiber = domFiber._currentElement._owner;\n    for (let i = 0; i < traverseUp; i++) {\n      compFiber = compFiber._currentElement._owner;\n    }\n    return compFiber._instance;\n  }\n\n  // react 16+\n  if (domFiber.stateNode) {\n    return domFiber.stateNode;\n  }\n\n  const getCompFiber = (fiber: any) => {\n    //return fiber._debugOwner; // this also works, but is __DEV__ only\n    let parentFiber = fiber.return;\n    while (typeof parentFiber.type == 'string') {\n      parentFiber = parentFiber.return;\n    }\n    return parentFiber;\n  };\n  let compFiber = getCompFiber(domFiber);\n  for (let i = 0; i < traverseUp; i++) {\n    compFiber = getCompFiber(compFiber);\n  }\n  return compFiber.stateNode;\n}\n\nconst getRefProp = (child: any, addTarget: (target: any) => void) => {\n  // has to be tested if it works, which lib does still use innerRef?\n  if (child.props.innerRef) {\n    return {\n      innerRef: (target: any) => {\n        addTarget(target);\n        const { innerRef } = child.props;\n        if (typeof innerRef === 'function') innerRef(target);\n        else if (innerRef) innerRef.current = target;\n      },\n    };\n  }\n\n  return {\n    ref: (target: any) => {\n      addTarget(target);\n      const { ref } = child;\n      if (typeof ref === 'function') ref(target);\n      else if (ref) ref.current = target;\n    },\n  };\n};\n\nconst setOrAddTarget = (\n  target: any,\n  setTarget: (key: string, target: any) => void,\n  addTarget: (target: any) => void\n) => {\n  const reactNode = getReactNode(target);\n\n  if (reactNode) {\n    addTarget(reactNode);\n  } else if (target) {\n    Object.keys(target).forEach(key => {\n      const elementRef = target[key];\n      if (typeof elementRef === 'object' && elementRef.current) {\n        if (Array.isArray(elementRef.current)) {\n          elementRef.current.forEach((singleRef: React.RefObject<any>) => {\n            setTarget(key, singleRef);\n          });\n        } else {\n          setTarget(key, elementRef.current);\n        }\n      }\n    });\n  }\n};\n\nconst getTargetRefProp = (\n  child: any,\n  setTarget: (key: string, target: any) => void,\n  addTarget: (target: any) => void\n) => {\n  // has to be tested if it works, which lib does still use innerRef?\n  if (child.props.innerRef) {\n    return {\n      innerRef: (target: any) => {\n        setOrAddTarget(target, setTarget, addTarget);\n        // merge refs\n        const { innerRef } = child.props;\n        if (typeof innerRef === 'function') innerRef(target);\n        else if (innerRef) innerRef.current = target;\n      },\n    };\n  }\n\n  return {\n    ref: (target: any) => {\n      setOrAddTarget(target, setTarget, addTarget);\n      // merge refs\n      const { ref } = child;\n      if (typeof ref === 'function') ref(target);\n      else if (ref) ref.current = target;\n    },\n  };\n};\n\nconst nullishCoalescing = <T, R>(value: T, ifNullish: R): T | R => {\n  if (value === null || typeof value === 'undefined') {\n    return ifNullish;\n  }\n  return value;\n};\n\nconst setProps = (\n  tweenOrTimeline: any,\n  props: TimelineProps | TweenProps,\n  prevProps?: TimelineProps | TweenProps\n) => {\n  if (props.progress !== undefined && props.progress !== prevProps?.progress) {\n    tweenOrTimeline.progress(props.progress);\n  }\n  if (props.totalProgress !== undefined && props.totalProgress !== prevProps?.totalProgress) {\n    tweenOrTimeline.totalProgress(props.totalProgress);\n  }\n  if (\n    tweenOrTimeline.duration !== undefined &&\n    props.duration &&\n    props.duration !== prevProps?.duration\n  ) {\n    tweenOrTimeline.duration(props.duration);\n  }\n};\n\nexport {\n  getTweenFunction,\n  callTweenFunction,\n  setPlayState,\n  isEqual,\n  refOrInnerRef,\n  getRefProp,\n  getTargetRefProp,\n  nullishCoalescing,\n  setProps,\n  setInitialPlayState,\n  getInitialPaused,\n};\n","import React from 'react';\n\ntype RegisteredPlugins = 'scrollTrigger';\ntype Plugin = (targets: any) => any;\ntype Plugins = { [key in RegisteredPlugins]: Plugin } | {};\n\nexport type ContextProps = {\n  registerConsumer: (consumer: any) => void;\n  plugins?: Plugins;\n  getPlugins: (plugins?: Plugins, targets?: any) => any;\n};\n\nexport const Context = React.createContext<ContextProps>({\n  registerConsumer: () => {},\n  getPlugins: () => {},\n  plugins: {},\n});\n\nabstract class Provider<T, S = {}> extends React.Component<T, S> {\n  static contextType = Context;\n\n  consumers: any[];\n  plugins?: Plugins;\n\n  constructor(props: T) {\n    super(props);\n    this.consumers = [];\n    this.plugins = {};\n\n    this.registerConsumer = this.registerConsumer.bind(this);\n    this.getContextValue = this.getContextValue.bind(this);\n    this.getPlugin = this.getPlugin.bind(this);\n    this.getPlugins = this.getPlugins.bind(this);\n    this.renderWithProvider = this.renderWithProvider.bind(this);\n  }\n\n  registerConsumer(consumer: any) {\n    this.consumers.push(consumer);\n  }\n\n  getContextValue(plugin: Plugins = {}) {\n    return {\n      registerConsumer: this.registerConsumer,\n      // plugins: { ...this.context.plugins, ...plugin },\n      plugins: plugin,\n      getPlugins: this.getPlugins,\n    };\n  }\n\n  getPlugin(props: any, targets: any) {\n    return {};\n  }\n\n  getPlugins(plugins?: Plugins, targets?: any) {\n    return Object.keys(plugins ?? {}).reduce((acc, plugin) => {\n      if (Object.prototype.hasOwnProperty.call(plugins, plugin)) {\n        // @ts-ignore\n        return { ...acc, [plugin]: this.getPlugin(plugins[plugin], targets) };\n      }\n      return acc;\n    }, {});\n  }\n\n  renderWithProvider(output: any, plugin?: Plugins) {\n    return <Context.Provider value={this.getContextValue(plugin)}>{output}</Context.Provider>;\n  }\n}\n\nexport default Provider;\n","import { nullishCoalescing } from '../helper';\n\nlet gsap: any;\nlet _interpolate: any;\nlet _getProp: any;\nconst _getGSAP = () =>\n  gsap || (typeof window !== 'undefined' && (gsap = window.gsap) && gsap.registerPlugin && gsap);\n\ntype Point = {\n  x: number;\n  y: number;\n};\n\nfunction getDistance(p1: DOMPoint | Point, p2: DOMPoint | Point) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n\nfunction getCircleLength(el: SVGCircleElement) {\n  return 2 * Math.PI * parseFloat(nullishCoalescing(el.getAttribute('r'), '1') || '0');\n}\n\nfunction getRectLength(el: SVGRectElement) {\n  return (\n    parseFloat(nullishCoalescing(el.getAttribute('width'), '1') || '0') * 2 +\n    parseFloat(nullishCoalescing(el.getAttribute('height'), '1') || '0') * 2\n  );\n}\n\nfunction getLineLength(el: SVGLineElement) {\n  return getDistance(\n    {\n      x: parseFloat(nullishCoalescing(el.getAttribute('x1'), '1') || '0'),\n      y: parseFloat(nullishCoalescing(el.getAttribute('y1'), '1') || '0'),\n    },\n    {\n      x: parseFloat(nullishCoalescing(el.getAttribute('x2'), '1') || '0'),\n      y: parseFloat(nullishCoalescing(el.getAttribute('y2'), '1') || '0'),\n    }\n  );\n}\n\nfunction getPolylineLength(el: SVGPolylineElement) {\n  const points = el.points;\n  let totalLength = 0;\n  let previousPos: DOMPoint | undefined = undefined;\n  for (let i = 0; i < points.numberOfItems; i++) {\n    const currentPos = points.getItem(i);\n    if (previousPos) totalLength += getDistance(previousPos, currentPos);\n    previousPos = currentPos;\n  }\n  return totalLength;\n}\n\nfunction getPolygonLength(el: SVGPolylineElement) {\n  const points = el.points;\n  return (\n    getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0))\n  );\n}\n\n// if path is splitted into multiple move commands then return longest path\nfunction getPathLength(el: SVGPathElement) {\n  if (!el.hasAttribute('d')) {\n    return el.getTotalLength();\n  }\n  const d = el.getAttribute('d');\n  const pathString = d ? d.replace(/m/gi, 'M') : null;\n\n  if (!pathString) {\n    return el.getTotalLength();\n  }\n\n  const paths = pathString\n    .split('M')\n    .filter(path => path !== '')\n    .map(path => `M${path}`);\n\n  if (paths.length === 1) {\n    return el.getTotalLength();\n  }\n\n  let maxLength = 0;\n\n  paths.forEach(path => {\n    const pathElement = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    pathElement.setAttribute('d', path);\n    maxLength = Math.max(maxLength, pathElement.getTotalLength());\n  });\n\n  return maxLength;\n}\n\nfunction getTotalLength(el: any) {\n  if (el.getTotalLength) {\n    return getPathLength(el);\n  }\n  switch (el.tagName.toLowerCase()) {\n    case 'circle':\n      return getCircleLength(el);\n    case 'rect':\n      return getRectLength(el);\n    case 'line':\n      return getLineLength(el);\n    case 'polyline':\n      return getPolylineLength(el);\n    case 'polygon':\n      return getPolygonLength(el);\n    default:\n      return 0;\n  }\n}\n\nexport const SvgDrawPlugin = {\n  version: '2.0.0',\n  name: 'svgDraw',\n  register(core: any, Plugin: any, propTween: any) {\n    gsap = core;\n    _interpolate = gsap.utils.interpolate;\n    _getProp = gsap.getProperty;\n  },\n  init(target: any, value: number, _tween: any, index: number, targets: any) {\n    const length = getTotalLength(target);\n\n    let lengthParam = value;\n    let offsetParam = 0;\n\n    if (Array.isArray(value)) {\n      lengthParam = value[0];\n      if (value.length >= 2) {\n        offsetParam = value[1] * -1;\n      }\n    }\n\n    let data = this;\n    data.target = target;\n    data.strokeDashoffset = _interpolate(\n      _getProp(target, 'stroke-dashoffset'),\n      length * offsetParam\n    );\n    data.strokeDasharray = _interpolate(_getProp(target, 'stroke-dasharray'), [\n      lengthParam * length,\n      length,\n    ]);\n  },\n  render(progress: number, data: any) {\n    data.target.setAttribute('stroke-dashoffset', data.strokeDashoffset(progress));\n    data.target.setAttribute('stroke-dasharray', data.strokeDasharray(progress));\n  },\n};\n\n_getGSAP() && gsap.registerPlugin(SvgDrawPlugin);\n\nexport { SvgDrawPlugin as default };\n","import { nullishCoalescing } from '../helper';\n\nlet gsap: any;\nlet _interpolate: any;\nlet _format: any;\nconst _getGSAP = () =>\n  gsap || (typeof window !== 'undefined' && (gsap = window.gsap) && gsap.registerPlugin && gsap);\n\ntype Prop =\n  | {\n      value: string | number;\n      format: () => (value: string | number) => number | string;\n    }\n  | number\n  | string;\n\nexport const CountPlugin = {\n  version: '1.0.0',\n  name: 'count',\n  register(core: any, Plugin: any, propTween: any) {\n    gsap = core;\n    _interpolate = gsap.utils.interpolate;\n    _format = (value: string | number) => parseInt(value.toString(), 10);\n  },\n  init(target: any, value: Prop, _tween: any, index: number, targets: any) {\n    let inputValue = value;\n    let format = _format;\n    if (typeof value === 'object') {\n      inputValue = nullishCoalescing(value.value, 0);\n      if (value.format) {\n        format = value.format;\n      }\n    }\n\n    const initialCount = parseFloat(target.innerText);\n\n    let data = this;\n    data.target = target;\n    data.count = _interpolate(initialCount, parseFloat(inputValue.toString()));\n    data.format = format;\n  },\n  render(progress: number, data: any) {\n    data.target.innerText = data.format(data.count(progress));\n  },\n};\n\n_getGSAP() && gsap.registerPlugin(CountPlugin);\n\nexport { CountPlugin as default };\n","import React, { Fragment, ReactElement } from 'react';\nimport { gsap } from 'gsap';\nimport { PlayState } from './types';\nimport {\n  getTweenFunction,\n  setPlayState,\n  isEqual,\n  getRefProp,\n  setProps,\n  setInitialPlayState,\n} from './helper';\nimport { Context } from './Provider';\n\nimport SvgDrawPlugin from './plugins/PlugInSvgDraw';\nimport CountPlugin from './plugins/PlugInCount';\n\n// @ts-ignore\ngsap.registerPlugin(SvgDrawPlugin);\n\n// @ts-ignore\ngsap.registerPlugin(CountPlugin);\n\ntype StaggerFunction = (index: number, target: any, list: any) => number;\ntype StaggerFromValues = 'start' | 'center' | 'edges' | 'random' | 'end';\ntype EaseFunction = (value: number) => number;\n\nexport type Stagger =\n  | {\n      amount?: number;\n      each?: number;\n      from?: StaggerFromValues | number | [number, number];\n      grid?: [number, number] | 'auto';\n      axis?: 'x' | 'y';\n      ease?: string | EaseFunction;\n      repeat?: number;\n      yoyo?: boolean;\n      [prop: string]: any;\n    }\n  | number\n  | StaggerFunction;\n\nexport type TweenProps = {\n  /** One or multiple \"refable\" components  */\n  children?: React.ReactNode;\n  wrapper?: React.ReactElement;\n  target?: number | string;\n  position?: string | number;\n\n  from?: any;\n  to?: any;\n  stagger?: Stagger;\n\n  duration?: number;\n  progress?: number;\n  totalProgress?: number;\n  playState?: PlayState;\n\n  disabled?: boolean;\n  onlyInvalidateTo?: boolean;\n\n  [prop: string]: any;\n};\n\nclass Tween extends React.Component<TweenProps, {}> {\n  static displayName = 'Tween';\n  static contextType = Context;\n\n  tween: any;\n  targets: any[] = [];\n\n  constructor(props: TweenProps) {\n    super(props);\n\n    this.addTarget = this.addTarget.bind(this);\n  }\n\n  componentDidMount() {\n    this.createTween();\n\n    // props at mount\n    setProps(this.tween, this.props);\n    setInitialPlayState(this.tween, this.props);\n\n    this.context.registerConsumer(this);\n  }\n\n  componentWillUnmount() {\n    if (this.tween) {\n      this.tween.kill();\n    }\n  }\n\n  getSnapshotBeforeUpdate() {\n    this.targets = [];\n    return null;\n  }\n\n  componentDidUpdate(prevProps: TweenProps) {\n    const {\n      children,\n      wrapper,\n\n      duration,\n      from,\n      to,\n      stagger,\n\n      progress,\n      totalProgress,\n      playState,\n      disabled,\n      onlyInvalidateTo,\n\n      onCompleteAll,\n      onCompleteAllParams,\n      onCompleteAllScope,\n      onStartAll,\n\n      position,\n      target,\n\n      ...vars\n    } = this.props;\n\n    // if children change create a new tween\n    // TODO: replace easy length check with fast equal check\n    if (React.Children.count(prevProps.children) !== React.Children.count(children)) {\n      this.createTween();\n    }\n\n    if (disabled) {\n      return;\n    }\n\n    // execute function calls\n    setProps(this.tween, this.props, prevProps);\n\n    // if \"to\" props are changed: reinit and restart tween\n    if (!isEqual(to, prevProps.to)) {\n      // is Tween\n      if (!this.tween.getChildren) {\n        this.tween.vars = { ...to, ...vars };\n\n        if (onlyInvalidateTo) {\n          var progressTmp = this.tween.progress();\n          this.tween\n            .progress(0)\n            .invalidate()\n            .progress(progressTmp);\n        } else {\n          this.tween.invalidate();\n        }\n      }\n      // is Timeline\n      // TODO: not yet ready\n      else {\n        let delay = 0;\n        this.tween.getChildren(false, true, false).forEach((tween: any) => {\n          tween.vars = { ...to, ...vars, ...{ delay } };\n          tween.invalidate();\n          // delay += stagger || 0;\n        });\n      }\n\n      if (!this.tween.paused()) {\n        this.tween.restart();\n      }\n    }\n\n    setPlayState(playState, prevProps.playState, this.tween);\n  }\n\n  createTween() {\n    if (this.tween) {\n      this.tween.kill();\n    }\n\n    if (this.props.children) {\n      this.tween = getTweenFunction(this.targets, this.props, this.context);\n    } else {\n      // why this is needed?\n      this.tween = () => {};\n    }\n  }\n\n  getGSAP() {\n    return this.tween;\n  }\n\n  setGSAP(tween: any) {\n    this.tween = tween;\n  }\n\n  addTarget(target: any) {\n    // target is null at unmount\n    if (target !== null) {\n      this.targets.push(target);\n    }\n  }\n\n  getTargets() {\n    return this.targets;\n  }\n\n  render() {\n    let { children, wrapper } = this.props;\n\n    const output = (\n      <Fragment>\n        {React.Children.map(children, child => {\n          return React.cloneElement(child as ReactElement, getRefProp(child, this.addTarget));\n        })}\n      </Fragment>\n    );\n\n    if (wrapper) {\n      return React.cloneElement(wrapper, [], output);\n    }\n\n    return output;\n  }\n}\n\nexport default Tween;\n","import React, { Fragment, ReactElement, ReactNode } from 'react';\nimport { gsap } from 'gsap';\nimport { isForwardRef, isFragment } from 'react-is';\nimport { PlayState } from './types';\nimport {\n  getInitialPaused,\n  getTargetRefProp,\n  getTweenFunction,\n  nullishCoalescing,\n  setInitialPlayState,\n  setPlayState,\n  setProps,\n} from './helper';\nimport Provider, { Context } from './Provider';\nimport { TweenProps } from './Tween';\n\ntype Label = {\n  label: string;\n  position: string | number;\n};\n\nexport type Targets = Map<string | number, ReactElement | ReactElement[]>;\nexport type TargetsRef = {\n  set: (key: string, target: any) => void;\n};\n\nexport type Target = ReactElement | null;\n\nexport type TimelineProps = {\n  children: ReactNode;\n  wrapper?: ReactElement;\n  target?: Target;\n  position?: string | number;\n  labels?: Label[];\n\n  duration?: number;\n  progress?: number;\n  totalProgress?: number;\n  playState?: PlayState;\n\n  [prop: string]: any;\n};\n\nclass Timeline extends Provider<TimelineProps> {\n  static displayName = 'Timeline';\n\n  timeline: any;\n  targets: Targets = new Map();\n\n  static defaultProps = {\n    playState: PlayState.play,\n  };\n\n  constructor(props: TimelineProps) {\n    super(props);\n\n    this.addTarget = this.addTarget.bind(this);\n    this.setTarget = this.setTarget.bind(this);\n  }\n\n  componentDidMount() {\n    this.createTimeline();\n\n    // props at mount\n    setProps(this.timeline, this.props);\n    setInitialPlayState(this.timeline, this.props);\n\n    this.context.registerConsumer(this);\n  }\n\n  componentWillUnmount() {\n    this.timeline.kill();\n  }\n\n  getSnapshotBeforeUpdate() {\n    this.targets = new Map();\n    return null;\n  }\n\n  componentDidUpdate(prevProps: TimelineProps) {\n    const { children, duration, progress, totalProgress, playState, target } = this.props;\n\n    // if children change create a new timeline\n    // TODO: replace easy length check with fast equal check\n    // TODO: same for props.target?\n    if (React.Children.count(prevProps.children) !== React.Children.count(children)) {\n      this.createTimeline();\n    }\n\n    // execute function calls\n    setProps(this.timeline, this.props, prevProps);\n\n    // TODO: need rerender or something if target change?\n    // if (target !== prevProps.target) {\n    //   this.forceUpdate();\n    // }\n\n    setPlayState(playState, prevProps.playState, this.timeline);\n  }\n\n  createTimeline() {\n    const {\n      children,\n      target,\n      duration,\n      progress,\n      totalProgress,\n      playState,\n      labels,\n      position,\n      ...vars\n    } = this.props;\n\n    if (this.timeline) {\n      this.timeline.kill();\n    }\n\n    const plugins = this.context?.getPlugins(this.context?.plugins, this.targets) ?? {};\n\n    // init timeline\n    this.timeline = gsap.timeline({\n      smoothChildTiming: true,\n      paused: getInitialPaused(playState),\n      ...vars,\n      ...plugins,\n    });\n\n    if (labels) {\n      labels.forEach(label => {\n        this.timeline.addLabel(label.label, label.position);\n      });\n    }\n\n    // add tweens or nested timelines to timeline\n    this.consumers.forEach(consumer => {\n      // Tween with no children -> control Timeline target\n      if (consumer.tween && !consumer.props.children) {\n        const { position, target, stagger, ...vars } = consumer.props as TweenProps;\n\n        // get target if not nullish\n        let targets = null;\n        if (target !== null && typeof target !== 'undefined') {\n          targets = this.targets.get(target);\n        }\n\n        // if no target found -> take all Timeline targets as target\n        const tween = getTweenFunction(\n          // @ts-ignore\n          nullishCoalescing(targets, Array.from(this.targets.values())),\n          {\n            stagger,\n            ...vars,\n          }\n        );\n        this.timeline.add(tween, nullishCoalescing(position, '+=0'));\n        consumer.setGSAP(tween);\n      } else {\n        const { position } = consumer.props;\n        this.timeline.add(consumer.getGSAP(), nullishCoalescing(position, '+=0'));\n      }\n    });\n  }\n\n  getGSAP() {\n    return this.timeline;\n  }\n\n  addTarget(target: any) {\n    if (target !== null) {\n      this.targets.set(this.targets.size, target);\n    }\n  }\n\n  setTarget(key: string, target: any) {\n    if (target !== null) {\n      if (this.targets.has(key)) {\n        const targets = this.targets.get(key);\n        if (Array.isArray(targets)) {\n          this.targets.set(key, [...targets, target]);\n        } else {\n          this.targets.set(key, [targets, target]);\n        }\n      } else {\n        this.targets.set(key, target);\n      }\n    }\n  }\n\n  setTargets(targets: Targets) {\n    this.targets = targets;\n  }\n\n  getTargets() {\n    return this.targets;\n  }\n\n  cloneElement(child: any) {\n    // @ts-ignore\n    return React.cloneElement(child, getTargetRefProp(child, this.setTarget, this.addTarget));\n  }\n\n  renderTarget(target?: Target): ReactNode {\n    if (!target) {\n      return null;\n    }\n\n    // if is forwardRef clone and pass targets as ref\n    if (isForwardRef(target)) {\n      return this.cloneElement(target);\n    }\n\n    // else iterate the first level of children and set targets\n    return (\n      <Fragment>\n        {/* First render the target */}\n        {React.Children.map<ReactElement, ReactElement>(target, child => {\n          if (isFragment(child)) {\n            return React.Children.map(child.props.children, fragmentChild => {\n              return this.cloneElement(fragmentChild);\n            });\n          }\n          return this.cloneElement(child);\n        })}\n      </Fragment>\n    );\n  }\n\n  render() {\n    let { target, children, wrapper } = this.props;\n\n    const renderedTarget = this.renderTarget(target);\n\n    let output = (\n      <Fragment>\n        {renderedTarget}\n        {children}\n      </Fragment>\n    );\n\n    if (wrapper) {\n      output = React.cloneElement(wrapper, [], output);\n    }\n\n    return this.renderWithProvider(output);\n  }\n}\n\nexport default Timeline;\n","import React from 'react';\nimport { gsap } from 'gsap';\nimport { nullishCoalescing } from '../helper';\nimport Provider from '../Provider';\n\nexport type RevealProps = {\n  children: React.ReactNode;\n  trigger: React.ReactElement | null;\n  repeat: boolean;\n  root: Element | null;\n  rootMargin: string;\n  threshold: number;\n};\n\nenum EntryState {\n  unknown,\n  entered,\n  exited,\n}\n\nclass Reveal extends Provider<RevealProps> {\n  static displayName = 'Reveal';\n\n  static defaultProps = {\n    trigger: null,\n    repeat: false,\n    root: null,\n    rootMargin: '0px',\n    threshold: 0.66,\n  };\n\n  timeline: any;\n  triggerRef: HTMLElement | null = null;\n  observer: IntersectionObserver | null = null;\n\n  init() {\n    this.createTimeline();\n    this.createIntersectionObserver();\n  }\n\n  kill() {\n    this.killTimeline();\n    this.killIntersectionObserver();\n  }\n\n  componentDidMount() {\n    this.init();\n  }\n\n  componentWillUnmount() {\n    this.kill();\n  }\n\n  componentDidUpdate(prevProps: RevealProps) {\n    const { children, trigger } = this.props;\n\n    // if children change create a new timeline\n    // TODO: replace easy length check with fast equal check\n    // TODO: same for props.target?\n    if (React.Children.count(prevProps.children) !== React.Children.count(children)) {\n      this.init();\n    }\n\n    if (prevProps.trigger !== trigger) {\n      this.init();\n    }\n  }\n\n  createTimeline() {\n    this.killTimeline();\n\n    // init timeline\n    this.timeline = gsap.timeline({\n      smoothChildTiming: true,\n      paused: true,\n    });\n\n    // add consumers\n    this.consumers.forEach(consumer => {\n      const { position } = consumer.props;\n      this.timeline.add(consumer.getGSAP().play(), nullishCoalescing(position, 0));\n    });\n  }\n\n  killTimeline() {\n    if (this.timeline) {\n      this.timeline.kill();\n    }\n  }\n\n  createIntersectionObserver() {\n    let { root, rootMargin, threshold } = this.props;\n\n    const options = {\n      root,\n      rootMargin,\n      threshold: [0, threshold],\n    };\n\n    this.observer = new IntersectionObserver(this.intersectionObserverCallback, options);\n\n    // It would be better if we wouldn't need an extra wrapper.\n    // But it can be problematic for example with a fadeInLeft animation\n    // were the element is out of the viewport in the initial state.\n    // In this case there wouldn't be an intersection..\n    if (!this.triggerRef) {\n      this.consumers.forEach(consumer => {\n        consumer.getTargets().forEach((target: any) => {\n          this.observer && this.observer.observe(target);\n        });\n      });\n    } else {\n      this.observer && this.observer.observe(this.triggerRef);\n    }\n  }\n\n  killIntersectionObserver() {\n    this.unobserveAll();\n    this.observer = null;\n  }\n\n  unobserveAll() {\n    if (this.observer) {\n      if (!this.triggerRef) {\n        this.consumers.forEach(consumer => {\n          consumer.getTargets().forEach((target: any) => {\n            this.observer && this.observer.unobserve(target);\n          });\n        });\n      } else {\n        this.observer && this.observer.unobserve(this.triggerRef);\n      }\n    }\n  }\n\n  intersectionObserverCallback = (entries: any) => {\n    let { repeat, threshold } = this.props;\n    let state: EntryState = EntryState.unknown;\n\n    for (const entry of entries) {\n      if (entry.isIntersecting && entry.intersectionRatio >= threshold) {\n        this.timeline.play();\n        state = EntryState.entered;\n        break;\n      } else if (!entry.isIntersecting) {\n        state = EntryState.exited;\n        break;\n      }\n    }\n\n    if (!repeat && state === EntryState.entered) {\n      this.killIntersectionObserver();\n    } else if (repeat && state === EntryState.exited) {\n      this.timeline.pause(0);\n    }\n  };\n\n  getGSAP() {\n    return this.timeline;\n  }\n\n  render() {\n    let { children, trigger } = this.props;\n\n    let output = trigger ? (\n      <trigger.type {...trigger.props} ref={(trigger: HTMLElement) => (this.triggerRef = trigger)}>\n        {children}\n      </trigger.type>\n    ) : (\n      children\n    );\n\n    return this.renderWithProvider(output);\n  }\n}\n\nexport default Reveal;\n","import React from 'react';\nimport { gsap } from 'gsap';\nimport { ScrollTrigger as ScrollTriggerPlugin } from 'gsap/dist/ScrollTrigger';\nimport Provider, { Context } from '../Provider';\n\ngsap.registerPlugin(ScrollTriggerPlugin);\n\nexport type ScrollTriggerProps = {\n  children?: React.ReactNode;\n} & gsap.plugins.ScrollTriggerInstanceVars;\n\nclass ScrollTrigger extends Provider<ScrollTriggerProps> {\n  static displayName = 'ScrollTrigger';\n  static contextType = Context;\n\n  scrollTrigger: any | null = null;\n  targets: any = {};\n\n  constructor(props: ScrollTriggerProps) {\n    super(props);\n\n    this.getPlugin = this.getPlugin.bind(this);\n  }\n\n  // override and pass registerConsumer to next parent provider\n  registerConsumer(consumer: any) {\n    this.context.registerConsumer(consumer);\n  }\n\n  componentDidMount() {\n    const { children, ...scrollTrigger } = this.props;\n\n    if (!children) {\n      this.scrollTrigger = ScrollTriggerPlugin.create(scrollTrigger);\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.scrollTrigger) {\n      this.scrollTrigger.kill();\n    }\n  }\n\n  // componentDidUpdate(prevProps: ScrollTriggerProps) {\n  //   const { trigger } = this.props;\n  //\n  //   if (trigger !== prevProps.trigger) {\n  //     console.log('prevProps.trigger', prevProps.trigger);\n  //     console.log('trigger', trigger);\n  //   }\n  // }\n\n  getGSAP() {\n    return this.scrollTrigger;\n  }\n\n  getPlugin(props: any, targets: any) {\n    let { children, trigger: triggerProp, ...scrollTrigger } = props;\n\n    let trigger = triggerProp;\n\n    if (targets instanceof Map) {\n      if (trigger) {\n        const target = targets.get(trigger);\n        if (target) {\n          trigger = target;\n        }\n      } else {\n        trigger = Array.from(targets.values());\n      }\n    } else if (!trigger) {\n      trigger = targets;\n    }\n\n    return {\n      trigger,\n      ...scrollTrigger,\n    };\n  }\n\n  render() {\n    const { children, ...scrollTrigger } = this.props;\n    if (!children) {\n      return null;\n    }\n    return this.renderWithProvider(children, {\n      scrollTrigger,\n    });\n  }\n}\n\nexport default ScrollTrigger;\n","import React from 'react';\n\ntype SplitWordsProps = {\n  children: React.ReactNode;\n  wrapper: React.ReactElement;\n  delimiter?: string;\n};\n\ntype SplitCharsProps = {\n  children: React.ReactNode;\n  wrapper: React.ReactElement;\n};\n\nconst escapeRegExp = (regExp: string) => {\n  var specialChars = ['$', '^', '*', '(', ')', '+', '[', ']', '{', '}', '\\\\', '|', '.', '?', '/'];\n  var regex = new RegExp('(\\\\' + specialChars.join('|\\\\') + ')', 'g');\n  return regExp.replace(regex, '\\\\$1');\n};\n\n// TODO: possible or better to output all the refs as one array?\nexport const SplitWords = React.forwardRef<any, SplitWordsProps>(\n  ({ children, wrapper, delimiter = ' ' }, ref) => {\n    if (typeof children !== 'string') {\n      throw new Error('SplitWords only accepts a string as child.');\n    }\n    const words = children.split(new RegExp(`(${escapeRegExp(delimiter)})`, 'g'));\n    return (\n      <>\n        {words.map((word: string, i: number) => {\n          if (delimiter === ' ' && word === delimiter) {\n            return <React.Fragment key={i}> </React.Fragment>;\n          }\n          return React.cloneElement(wrapper, { ref, key: i }, word);\n        })}\n      </>\n    );\n  }\n);\n\n// TODO: possible or better to output all the refs as one array?\nexport const SplitChars = React.forwardRef<any, SplitCharsProps>(({ children, wrapper }, ref) => {\n  if (typeof children !== 'string') {\n    throw new Error('SplitChars only accepts a string as child.');\n  }\n  return (\n    <>\n      {children\n        .split(\n          /(?=(?:[\\0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]))/\n        )\n        .map((char: string, i: number) => {\n          // TODO: enhance check for space\n          if (char === ' ') {\n            return <React.Fragment key={i}> </React.Fragment>;\n          }\n          return React.cloneElement(wrapper, { ref, key: i }, char);\n        })}\n    </>\n  );\n});\n\nexport const SplitLetters = React.forwardRef((props: any, ref) => {\n  console.warn('Deprecation warning: Use SplitChars instead of SplitLetters');\n  return <SplitChars {...props} ref={ref} />;\n});\n","import React from 'react';\nimport { PlayState } from './../types';\nimport { setPlayState } from './../helper';\nimport Provider from '../Provider';\n\ntype ControlsProps = {\n  playState?: PlayState;\n};\n\ntype ControlsState = {\n  totalProgress: number;\n  playState?: PlayState;\n  prevPlayState?: PlayState;\n};\n\nclass Controls extends Provider<ControlsProps, ControlsState> {\n  gsap: any;\n  slider: any;\n  sliderTouched: boolean = false;\n\n  state = {\n    totalProgress: 0,\n    playState: undefined,\n    prevPlayState: undefined,\n  };\n\n  containerStyle = {\n    backgroundColor: '#f0f0f0',\n    padding: '10px 10px 0 10px',\n    marginTop: '10px',\n    position: 'relative' as 'relative',\n    zIndex: 2,\n    fontFamily: 'verdana, sans-serif',\n    fontSize: '16px',\n    border: '1px solid #ccc',\n  };\n\n  buttonContainerStyle = {\n    margin: '0',\n    display: 'flex',\n    flexWrap: 'wrap' as 'wrap',\n    justifyContent: 'space-between',\n  };\n\n  buttonStyle = {\n    border: '1px solid #999',\n    backgroundColor: '#f0f0f0',\n    padding: '5px',\n    margin: '10px 10px 10px 0',\n    cursor: 'pointer',\n  };\n\n  sliderStyle = {\n    margin: '0',\n    width: '100%',\n  };\n\n  playStateStyle = {\n    color: '#999',\n    margin: '10px 0',\n    fontSize: '14px',\n  };\n\n  componentDidMount() {\n    if (this.consumers.length) {\n      this.gsap = this.consumers[0];\n\n      const gsap = this.gsap.getGSAP();\n\n      if (gsap) {\n        gsap.eventCallback('onUpdate', this.onUpdate);\n\n        if (this.props.playState) {\n          this.setPlayState(this.props.playState);\n        } else {\n          // get child initial state\n          if (gsap.paused()) {\n            this.setPlayState(PlayState.pause);\n          } else if (gsap.reversed()) {\n            this.setPlayState(PlayState.reverse);\n          } else {\n            this.setPlayState(PlayState.play);\n          }\n        }\n\n        const totalProgress = gsap.totalProgress();\n        this.slider.value = totalProgress * 100;\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    this.onUpdate();\n  }\n\n  onUpdate = () => {\n    if (this.gsap && this.slider && !this.sliderTouched) {\n      const totalProgress = this.gsap.getGSAP().totalProgress();\n      this.slider.value = totalProgress * 100;\n    }\n  };\n\n  onChange = (event: any) => {\n    if (this.gsap && this.gsap.getGSAP()) {\n      this.gsap.getGSAP().totalProgress(event.target.value / 100);\n    }\n  };\n\n  setPlayState = (state: PlayState) => {\n    this.setState(prevState => {\n      return {\n        playState: state,\n        prevPlayState: prevState.playState,\n      };\n    });\n  };\n\n  getControls = (_totalProgress: any, playState: PlayState | undefined) => (\n    <div style={this.containerStyle}>\n      <input\n        ref={el => (this.slider = el)}\n        type=\"range\"\n        style={this.sliderStyle}\n        step=\"0.001\"\n        onChange={e => this.onChange(e)}\n        onMouseDown={() => (this.sliderTouched = true)}\n        onMouseUp={() => (this.sliderTouched = false)}\n      />\n      <div style={this.buttonContainerStyle}>\n        <div>\n          <button\n            type=\"button\"\n            style={this.buttonStyle}\n            onClick={() => this.setPlayState(PlayState.play)}\n          >\n            Play\n          </button>\n          <button\n            type=\"button\"\n            style={this.buttonStyle}\n            onClick={() => this.setPlayState(PlayState.reverse)}\n          >\n            Reverse\n          </button>\n          <button\n            type=\"button\"\n            style={this.buttonStyle}\n            onClick={() => this.setPlayState(PlayState.pause)}\n          >\n            Pause\n          </button>\n          <button\n            type=\"button\"\n            style={this.buttonStyle}\n            onClick={() => this.setPlayState(PlayState.stop)}\n          >\n            Stop\n          </button>\n        </div>\n        <span style={this.playStateStyle}>{playState}</span>\n      </div>\n    </div>\n  );\n\n  render() {\n    const { children } = this.props;\n    const { totalProgress, playState, prevPlayState } = this.state;\n\n    if (this.gsap) {\n      setPlayState(playState, prevPlayState, this.gsap.getGSAP());\n    }\n\n    return this.renderWithProvider(\n      <div>\n        {children}\n        {this.getControls(totalProgress, playState)}\n      </div>\n    );\n  }\n}\n\nexport default Controls;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}