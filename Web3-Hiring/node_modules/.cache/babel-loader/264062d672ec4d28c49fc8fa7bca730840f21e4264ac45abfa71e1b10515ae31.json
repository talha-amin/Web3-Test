{"ast":null,"code":"import _regeneratorRuntime from \"/home/talha-amin/Web3-Hiring-V3/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/talha-amin/Web3-Hiring-V3/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport api from './apiAction';\nexport var loginAction = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(username, password) {\n    var ret, res, errors;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return api.post('/login', {\n            username: username,\n            password: password\n          });\n        case 3:\n          ret = _context.sent;\n          res = ret.data;\n          if (!(res.status === true)) {\n            _context.next = 16;\n            break;\n          }\n          console.log(res.data);\n          localStorage.setItem('user_email', res.data.user.email);\n          localStorage.setItem('user_username', res.data.user.username);\n          localStorage.setItem('user_avatar', res.data.user.avatar);\n          localStorage.setItem('user_id', res.data.id);\n          localStorage.setItem('user_avatar', res.data.user.avatar);\n          localStorage.setItem('user_avatar', res.data.user.avatar);\n          return _context.abrupt(\"return\", true);\n        case 16:\n          console.log('Action: login failed: ', res.err);\n          return _context.abrupt(\"return\", false);\n        case 18:\n          _context.next = 25;\n          break;\n        case 20:\n          _context.prev = 20;\n          _context.t0 = _context[\"catch\"](0);\n          errors = _context.t0.response.data.errors;\n          console.log('Action: login error: ', errors);\n          return _context.abrupt(\"return\", false);\n        case 25:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 20]]);\n  }));\n  return function loginAction(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var registerAction = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(email, username, password) {\n    var now, timezone, ret, res, errors;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          now = new Date();\n          timezone = now.getTimezoneOffset();\n          _context2.next = 5;\n          return api.post('/register', {\n            username: username,\n            email: email,\n            password: password,\n            timezone: timezone\n          });\n        case 5:\n          ret = _context2.sent;\n          res = ret.data;\n          if (!(res.status === true)) {\n            _context2.next = 12;\n            break;\n          }\n          console.log('registration success');\n          return _context2.abrupt(\"return\", 'true');\n        case 12:\n          console.log('Action: Register failed: ', res.err);\n          return _context2.abrupt(\"return\", 'false');\n        case 14:\n          _context2.next = 21;\n          break;\n        case 16:\n          _context2.prev = 16;\n          _context2.t0 = _context2[\"catch\"](0);\n          errors = _context2.t0.response.data.errors;\n          console.log(' Auth function error', errors);\n          return _context2.abrupt(\"return\", 'false');\n        case 21:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 16]]);\n  }));\n  return function registerAction(_x3, _x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var removeUserAction = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id) {\n    var ret, res, errors;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return api.post('/removeUserbyID', {\n            id: id\n          });\n        case 3:\n          ret = _context3.sent;\n          res = ret.data;\n          return _context3.abrupt(\"return\", res.status);\n        case 8:\n          _context3.prev = 8;\n          _context3.t0 = _context3[\"catch\"](0);\n          errors = _context3.t0.response.data.errors;\n          console.log(' removeUserAction function error', errors);\n          return _context3.abrupt(\"return\", false);\n        case 13:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 8]]);\n  }));\n  return function removeUserAction(_x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexport var getUserInfo = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(id) {\n    var ret, res, errors;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          _context4.next = 3;\n          return api.post('/getUserById', {\n            id: id\n          });\n        case 3:\n          ret = _context4.sent;\n          res = ret.data;\n          if (!res.status) {\n            _context4.next = 9;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.data.user);\n        case 9:\n          return _context4.abrupt(\"return\", false);\n        case 10:\n          _context4.next = 17;\n          break;\n        case 12:\n          _context4.prev = 12;\n          _context4.t0 = _context4[\"catch\"](0);\n          errors = _context4.t0.response.data.errors;\n          console.log(' getUserInfo function error', errors);\n          return _context4.abrupt(\"return\", false);\n        case 17:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[0, 12]]);\n  }));\n  return function getUserInfo(_x7) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexport var logoutAction = function logoutAction() {\n  console.log('Action: logout action execute');\n  localStorage.removeItem('user_id');\n};","map":{"version":3,"names":["api","loginAction","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","username","password","ret","res","errors","wrap","_callee$","_context","prev","next","post","sent","data","status","console","log","localStorage","setItem","user","email","avatar","id","abrupt","err","t0","response","stop","_x","_x2","apply","arguments","registerAction","_ref2","_callee2","now","timezone","_callee2$","_context2","Date","getTimezoneOffset","_x3","_x4","_x5","removeUserAction","_ref3","_callee3","_callee3$","_context3","_x6","getUserInfo","_ref4","_callee4","_callee4$","_context4","_x7","logoutAction","removeItem"],"sources":["/home/talha-amin/Web3-Hiring-V3/src/actions/authAction.js"],"sourcesContent":["import api from './apiAction';\n\nexport const loginAction = async (username, password) => {\n  try {\n    const ret = await api.post('/login', {\n      username,\n      password\n    });\n    const res = ret.data;\n    if (res.status === true) {\n      console.log(res.data);\n      localStorage.setItem('user_email', res.data.user.email);\n      localStorage.setItem('user_username', res.data.user.username);\n      localStorage.setItem('user_avatar', res.data.user.avatar);\n      localStorage.setItem('user_id', res.data.id);\n      localStorage.setItem('user_avatar', res.data.user.avatar);\n      localStorage.setItem('user_avatar', res.data.user.avatar);\n      return true;\n    } else {\n      console.log('Action: login failed: ', res.err);\n      return false;\n    }\n  } catch (err) {\n    const errors = err.response.data.errors;\n    console.log('Action: login error: ', errors);\n    return false;\n  }\n};\n\nexport const registerAction = async (email, username, password) => {\n  try {\n    const now = new Date();\n    let timezone = now.getTimezoneOffset();\n    const ret = await api.post('/register', {\n      username,\n      email,\n      password,\n      timezone\n    });\n    const res = ret.data;\n    if (res.status === true) {\n      console.log('registration success');\n      return 'true';\n    } else {\n      console.log('Action: Register failed: ', res.err);\n      return 'false';\n    }\n  } catch (err) {\n    const errors = err.response.data.errors;\n    console.log(' Auth function error', errors);\n    return 'false';\n  }\n};\n\nexport const removeUserAction = async (id) => {\n  try {\n    const ret = await api.post('/removeUserbyID', { id });\n    const res = ret.data;\n    return res.status;\n  } catch (err) {\n    const errors = err.response.data.errors;\n    console.log(' removeUserAction function error', errors);\n    return false;\n  }\n};\n\nexport const getUserInfo = async (id) => {\n  try {\n    const ret = await api.post('/getUserById', { id });\n    const res = ret.data;\n    if (res.status) return res.data.user;\n    else return false;\n  } catch (err) {\n    const errors = err.response.data.errors;\n    console.log(' getUserInfo function error', errors);\n    return false;\n  }\n};\n\nexport const logoutAction = () => {\n  console.log('Action: logout action execute');\n  localStorage.removeItem('user_id');\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}