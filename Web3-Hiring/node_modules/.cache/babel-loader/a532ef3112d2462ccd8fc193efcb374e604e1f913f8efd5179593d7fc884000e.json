{"ast":null,"code":"import _regeneratorRuntime from \"/home/talha-amin/Web3-Hiring-V3/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/talha-amin/Web3-Hiring-V3/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/home/talha-amin/Web3-Hiring-V3/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/home/talha-amin/Web3-Hiring-V3/src/widgets/Capo.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { Input, Button, UncontrolledAlert } from 'reactstrap';\nimport Confirm from './Confirm.js';\nimport { updateCapoName, deleteCapo } from '../actions/capoAction.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar Capo = function Capo(_ref) {\n  _s();\n  var _id = _ref._id,\n    name = _ref.name,\n    imageUrl = _ref.imageUrl,\n    removeCapo = _ref.removeCapo;\n  var _useState = useState(name),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentName = _useState2[0],\n    setName = _useState2[1];\n  var _useState3 = useState(name),\n    _useState4 = _slicedToArray(_useState3, 2),\n    displayName = _useState4[0],\n    setDisplayName = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    updateResult = _useState6[0],\n    setUpdateResult = _useState6[1];\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    deleteResult = _useState8[0],\n    setDeleteResult = _useState8[1];\n  var _useState9 = useState(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    displayEdit = _useState10[0],\n    setDisplayEdit = _useState10[1];\n  var _useState11 = useState(true),\n    _useState12 = _slicedToArray(_useState11, 2),\n    displayLabel = _useState12[0],\n    setDisplaylabel = _useState12[1];\n  function updateName() {\n    return _updateName.apply(this, arguments);\n  }\n  function _updateName() {\n    _updateName = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var result;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return updateCapoName(_id, currentName);\n          case 2:\n            result = _context.sent;\n            if (result === 'true') {\n              setDisplayName(currentName);\n              toggleEditBox();\n            }\n            setUpdateResult(result);\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return _updateName.apply(this, arguments);\n  }\n  function _removeCapo() {\n    return _removeCapo2.apply(this, arguments);\n  }\n  function _removeCapo2() {\n    _removeCapo2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var result;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return deleteCapo(_id);\n          case 2:\n            result = _context2.sent;\n            setDeleteResult(result);\n            removeCapo(_id);\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n    return _removeCapo2.apply(this, arguments);\n  }\n  function toggleEditBox() {\n    setDisplaylabel(function (displayLabel) {\n      return !displayLabel;\n    });\n    setDisplayEdit(function (displayEdit) {\n      return !displayEdit;\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"tr\", {\n    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        height: \"100\",\n        width: \"100\",\n        src: \"/data/img/capos/\".concat(imageUrl),\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: [displayLabel && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: displayName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false), displayEdit && /*#__PURE__*/_jsxDEV(Input, {\n        value: currentName,\n        placeholder: \"Capo name\",\n        onChange: function onChange(e) {\n          return setName(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, _this), updateResult === 'false' && /*#__PURE__*/_jsxDEV(UncontrolledAlert, {\n        color: \"danger\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: 'Error during update!'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: displayEdit ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: function onClick() {\n            return updateName();\n          },\n          outline: true,\n          size: \"sm\",\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, _this), ' ', /*#__PURE__*/_jsxDEV(Button, {\n          onClick: toggleEditBox,\n          outline: true,\n          size: \"sm\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(Button, {\n        outline: true,\n        size: \"sm\",\n        onClick: toggleEditBox,\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: [/*#__PURE__*/_jsxDEV(Confirm, {\n        buttonLabel: \"Delete\",\n        title: \"Deleting capo confirmation\",\n        text: \"Delete \".concat(currentName, \"?\"),\n        confirmFn: _removeCapo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, _this), deleteResult === 'false' && /*#__PURE__*/_jsxDEV(UncontrolledAlert, {\n        color: \"danger\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: 'Error!'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, _this);\n};\n_s(Capo, \"kWvKWks8upV8Yim5Ko9ERa+LujI=\");\n_c = Capo;\nexport default Capo;\nvar _c;\n$RefreshReg$(_c, \"Capo\");","map":{"version":3,"names":["useState","Input","Button","UncontrolledAlert","Confirm","updateCapoName","deleteCapo","jsxDEV","_jsxDEV","Fragment","_Fragment","Capo","_ref","_s","_id","name","imageUrl","removeCapo","_useState","_useState2","_slicedToArray","currentName","setName","_useState3","_useState4","displayName","setDisplayName","_useState5","_useState6","updateResult","setUpdateResult","_useState7","_useState8","deleteResult","setDeleteResult","_useState9","_useState10","displayEdit","setDisplayEdit","_useState11","_useState12","displayLabel","setDisplaylabel","updateName","_updateName","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_callee$","_context","prev","next","sent","toggleEditBox","stop","_removeCapo","_removeCapo2","_callee2","_callee2$","_context2","children","height","width","src","concat","alt","fileName","_jsxFileName","lineNumber","columnNumber","_this","value","placeholder","onChange","e","target","color","onClick","outline","size","buttonLabel","title","text","confirmFn","_c","$RefreshReg$"],"sources":["/home/talha-amin/Web3-Hiring-V3/src/widgets/Capo.js"],"sourcesContent":["import { useState } from 'react';\nimport { Input, Button, UncontrolledAlert } from 'reactstrap';\nimport Confirm from './Confirm.js';\nimport { updateCapoName, deleteCapo } from '../actions/capoAction.js';\n\nconst Capo = ({ _id, name, imageUrl, removeCapo }) => {\n  const [currentName, setName] = useState(name);\n  const [displayName, setDisplayName] = useState(name);\n  const [updateResult, setUpdateResult] = useState('');\n  const [deleteResult, setDeleteResult] = useState('');\n  const [displayEdit, setDisplayEdit] = useState(false);\n  const [displayLabel, setDisplaylabel] = useState(true);\n\n  async function updateName() {\n    const result = await updateCapoName(_id, currentName);\n    if (result === 'true') {\n      setDisplayName(currentName);\n      toggleEditBox();\n    }\n    setUpdateResult(result);\n  }\n\n  async function _removeCapo() {\n    const result = await deleteCapo(_id);\n    setDeleteResult(result);\n    removeCapo(_id);\n  }\n\n  function toggleEditBox() {\n    setDisplaylabel((displayLabel) => !displayLabel);\n    setDisplayEdit((displayEdit) => !displayEdit);\n  }\n\n  return (\n    <tr>\n      <td>\n        <img height=\"100\" width=\"100\" src={`/data/img/capos/${imageUrl}`} alt=\"\" />\n      </td>\n      <td>\n        {displayLabel && (\n          <>\n            <span>{displayName}</span>\n          </>\n        )}\n        {displayEdit && (\n          <Input\n            value={currentName}\n            placeholder=\"Capo name\"\n            onChange={(e) => setName(e.target.value)}\n          />\n        )}\n        {updateResult === 'false' && (\n          <UncontrolledAlert color=\"danger\">\n            <span>{'Error during update!'}</span>\n          </UncontrolledAlert>\n        )}\n      </td>\n      <td>\n        {displayEdit ? (\n          <>\n            <Button onClick={() => updateName()} outline size=\"sm\">\n              Save\n            </Button>{' '}\n            <Button onClick={toggleEditBox} outline size=\"sm\">\n              Cancel\n            </Button>\n          </>\n        ) : (\n          <Button outline size=\"sm\" onClick={toggleEditBox}>\n            Edit\n          </Button>\n        )}\n      </td>\n      <td>\n        <Confirm\n          buttonLabel=\"Delete\"\n          title=\"Deleting capo confirmation\"\n          text={`Delete ${currentName}?`}\n          confirmFn={_removeCapo}\n        />\n        {deleteResult === 'false' && (\n          <UncontrolledAlert color=\"danger\">\n            <span>{'Error!'}</span>\n          </UncontrolledAlert>\n        )}\n      </td>\n    </tr>\n  );\n};\n\nexport default Capo;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}