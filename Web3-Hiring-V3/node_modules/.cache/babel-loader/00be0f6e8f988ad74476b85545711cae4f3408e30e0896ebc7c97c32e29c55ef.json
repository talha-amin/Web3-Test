{"ast":null,"code":"import _regeneratorRuntime from \"/home/talha-amin/Web3-Hiring-V3/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/talha-amin/Web3-Hiring-V3/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/home/talha-amin/Web3-Hiring-V3/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/home/talha-amin/Web3-Hiring-V3/src/components/Header/index.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\n// reactstrap components\nimport { Row, Col } from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport './index.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction HomePage() {\n  _s();\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isConnected = _useState2[0],\n    setIsConnected = _useState2[1];\n  useEffect(function () {\n    // Check if Metamask is installed\n    if (typeof window.ethereum == 'undefined') {\n      alert(\"No Metamask!\");\n    }\n  }, []);\n  var connectWallet = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var accounts, address, message, Signature;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return window.ethereum.enable();\n          case 3:\n            _context.next = 5;\n            return window.ethereum.request({\n              method: 'eth_requestAccounts'\n            });\n          case 5:\n            accounts = _context.sent;\n            setIsConnected(true);\n            address = accounts[0];\n            message = \"Hello,Chainfuse!\";\n            _context.next = 11;\n            return window.ethereum.request({\n              method: 'personal_sign',\n              params: [message, address]\n            });\n          case 11:\n            Signature = _context.sent;\n            console.log(\"Signature\", Signature);\n            _context.next = 15;\n            return axios.post(\"http://localhost:3500/api/endpoint\", {\n              message: message,\n              address: address,\n              signature: Signature\n            });\n          case 15:\n            _context.next = 20;\n            break;\n          case 17:\n            _context.prev = 17;\n            _context.t0 = _context[\"catch\"](0);\n            console.error('Failed to connect to wallet:', _context.t0);\n          case 20:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[0, 17]]);\n    }));\n    return function connectWallet() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return /*#__PURE__*/_jsxDEV(Row, {\n    className: \"padding-32\",\n    children: [/*#__PURE__*/_jsxDEV(Col, {\n      xs: \"4\",\n      className: \"\",\n      children: [' ', /*#__PURE__*/_jsxDEV(\"img\", {\n        src: require('assets/img/logo.png')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), ' ']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Col, {\n      xs: \"4\",\n      className: \"logo\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        className: \"margin-12\",\n        children: \"HOME\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/about\",\n        className: \"margin-12\",\n        children: \"ABOUT\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/loginpage\",\n        className: \"margin-12\",\n        children: \"LOGIN\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Col, {\n      xs: \"4\",\n      className: \"logo\",\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"margin-12\",\n        onClick: connectWallet,\n        children: isConnected ? 'Connected' : 'Connect Wallet'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n_s(HomePage, \"X8xpX3k6aXdyWkMXjkSdizyzA6Y=\");\n_c = HomePage;\nexport default HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useEffect","useState","Row","Col","Link","axios","jsxDEV","_jsxDEV","HomePage","_s","_useState","_useState2","_slicedToArray","isConnected","setIsConnected","window","ethereum","alert","connectWallet","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","accounts","address","message","Signature","wrap","_callee$","_context","prev","next","enable","request","method","sent","params","console","log","post","signature","t0","error","stop","apply","arguments","className","children","xs","src","require","fileName","_jsxFileName","lineNumber","columnNumber","to","onClick","_c","$RefreshReg$"],"sources":["/home/talha-amin/Web3-Hiring-V3/src/components/Header/index.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n// reactstrap components\nimport { Row, Col } from 'reactstrap';\nimport { Link} from 'react-router-dom';\nimport axios from 'axios'\n\n\nimport './index.scss';\nfunction HomePage() {\n\n  const [isConnected, setIsConnected] = useState(false);\n\n  useEffect(() => {\n    // Check if Metamask is installed\n    if (typeof window.ethereum == 'undefined') {\n      alert(\"No Metamask!\")\n    }\n  }, []);\n\n  const connectWallet = async () => {\n    try {\n      // Request access to the user's Metamask wallet\n      await window.ethereum.enable();\n      const accounts =  await window.ethereum.request({ method: 'eth_requestAccounts' });\n      setIsConnected(true);\n      const address = accounts[0]\n      const message = \"Hello,Chainfuse!\";\n      const Signature = await window.ethereum.request({ method: 'personal_sign', params: [message,address]});\n      console.log(\"Signature\",Signature);\n      await axios.post(`http://localhost:3500/api/endpoint`, {message, address, signature: Signature});\n    } catch (error) {\n      console.error('Failed to connect to wallet:', error);\n    }\n  };\n  \n\n  return (\n    <Row className=\"padding-32\">\n      <Col xs=\"4\" className=\"\">\n        {' '}\n        <img src={require('assets/img/logo.png')} />{' '}\n      </Col>\n      <Col xs=\"4\" className=\"logo\" >\n        <Link to=\"/\" className=\"margin-12\">\n          HOME\n        </Link>{' '}\n        <span>/</span>\n        <Link to=\"/about\" className=\"margin-12\">\n          ABOUT\n        </Link>{' '}\n        <span>/</span>\n        <Link to=\"/loginpage\" className=\"margin-12\">\n          LOGIN\n        </Link>\n      </Col>\n      <Col xs=\"4\" className=\"logo\" >\n        <a className=\"margin-12\" onClick={connectWallet}>\n          {isConnected ? 'Connected' : 'Connect Wallet'}\n        </a>\n      </Col>\n    </Row>\n  );\n}\n\nexport default HomePage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}